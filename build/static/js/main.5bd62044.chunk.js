(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{123:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(23),r=a.n(s),i=(a(83),a(84),a(13)),l=a(15),o=a(9),d=a(39);a(124),a(125),a(85),a(126),a(88);d.a.initializeApp({apiKey:"AIzaSyDNYaKmy4RDoBWWrF56cP2vyBsKsdLLfsc",authDomain:"gusgus-project.firebaseapp.com",databaseURL:"https://gusgus-project-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"gusgus-project",storageBucket:"gusgus-project.appspot.com",messagingSenderId:"715385701552",appId:"1:715385701552:web:1746c7c54cf774a7d52775",measurementId:"G-3MBP2J073Q"}),d.a.analytics();var b=d.a.firestore(),j=a(2),u=n.a.createContext(),m=function(e){var t=e.children,a=Object(c.useState)(!0),n=Object(o.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(null),l=Object(o.a)(i,2),b=l[0],m=l[1];return Object(c.useEffect)((function(){d.a.auth().onAuthStateChanged((function(e){m(e),r(!1)}))}),[]),s?Object(j.jsx)("p",{children:"Loading..."}):Object(j.jsx)(u.Provider,{value:{currentUser:b},children:t})};function h(){return Object(j.jsx)("div",{})}var O=a(24),p=a(25),x=a(28),v=a(74),f=function(e){Object(x.a)(a,e);var t=Object(v.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(j.jsx)("div",{})}}]),a}(n.a.Component);function g(){return Object(j.jsx)("div",{children:Object(j.jsx)("nav",{className:"main-header navbar navbar-expand-md navbar-light navbar-white",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)(i.b,{to:"/",className:"navbar-brand",children:[Object(j.jsx)("img",{className:"img img-size-32 mx-2",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg",alt:"Workflow"}),Object(j.jsx)("span",{className:"brand-text font-weight-light",children:"Gusgus"})]}),Object(j.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon"})}),Object(j.jsx)("div",{className:"collapse navbar-collapse",id:"navbarCollapse",children:Object(j.jsxs)("ul",{className:"navbar-nav",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(i.c,{to:"/",className:"nav-link",activeClassName:"active",children:"\u0e2b\u0e19\u0e49\u0e32\u0e41\u0e23\u0e01"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(i.c,{to:"/manageorder-schedule",className:"nav-link",activeClassName:"active",children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(i.c,{to:"/manageuser",className:"nav-link",activeClassName:"active",children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(i.c,{to:"/manageproduct",className:"nav-link",activeClassName:"active",children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})})]})})]})})})}var N=function(){var e=Object(c.useContext)(u).currentUser;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"container mt-5",children:[Object(j.jsx)("h1",{children:"Home"}),e?Object(j.jsxs)("p",{children:["You are logged in - ",Object(j.jsx)(i.b,{to:"/dashboard",children:"View Dashboard"})]}):Object(j.jsxs)("p",{children:[Object(j.jsx)(i.b,{to:"/login",className:"btn btn-primary",children:"Log In"})," ","or"," ",Object(j.jsx)(i.b,{to:"/signup",className:"btn btn-success",children:"Sign Up"})]})]})})},y=function(){return Object(c.useContext)(u).currentUser?Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"container mt-5",children:[Object(j.jsx)("h1",{children:"Welcome"}),Object(j.jsx)("p",{children:"This is the dashboard, if you can see this you're logged in."}),Object(j.jsx)("button",{onClick:function(){return d.a.auth().signOut()},class:"btn btn-danger",children:"Sign Out"})]})}):Object(j.jsx)(l.a,{to:"/login"})},w=function(){return Object(c.useContext)(u).currentUser?Object(j.jsx)(l.a,{to:"/dashboard"}):Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"container mt-5",children:[Object(j.jsx)("h1",{children:"Log In"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements,a=t.email,c=t.password;try{d.a.auth().signInWithEmailAndPassword(a.value,c.value)}catch(n){alert(n)}},children:[Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(j.jsx)("input",{type:"email",name:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(j.jsx)("input",{type:"password",name:"password",className:"form-control",id:"exampleInputPassword1"})]}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})},I=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),a=t[0],n=t[1];return a?Object(j.jsx)(l.a,{to:"/dashboard"}):Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"container mt-5",children:[Object(j.jsx)("h1",{children:"Sign Up"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements,a=t.email,c=t.password;try{console.log(a.value),d.a.auth().createUserWithEmailAndPassword(a.value,c.value),n(!0)}catch(s){alert(s)}},children:[Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(j.jsx)("input",{type:"email",name:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"}),Object(j.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(j.jsx)("input",{type:"password",name:"password",className:"form-control",id:"exampleInputPassword1"})]}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})},S=a(34),k=a.n(S),C=a(8),P=a(40),D=a(47),_=a.n(D),U=(_.a.mixin({icon:"success",title:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08.",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,padding:"5px 10px",showClass:{popup:"animate__animated animate__fadeInRightBig"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}),_.a.mixin({title:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e17\u0e33\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23",text:"",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",confirmButtonText:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19"})),L=_.a.mixin({title:"\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14",text:"",allowOutsideClick:!1}),E=a(158);function B(e){var t=e.tableName,a=e.orderBy,c=void 0===a?"name":a,s=e.headerList,r=e.bodyList,l=e.actionLinkCreate,d=void 0===l?"":l,u=e.actLinkEdit,m=void 0===u?"":u,h=n.a.useState([]),O=Object(o.a)(h,2),p=O[0],x=O[1],v=n.a.useState(0),f=Object(o.a)(v,2),g=f[0],N=f[1],y=n.a.useState(""),w=Object(o.a)(y,2),I=w[0],S=w[1],D=n.a.useState(0),_=Object(o.a)(D,2),B=_[0],F=_[1],T=n.a.useState(new Map),W=Object(o.a)(T,2),A=W[0],q=W[1],G=n.a.useState(10),R=Object(o.a)(G,2),z=R[0],H=R[1],J=b.collection(t).orderBy(c);n.a.useEffect((function(){function e(){return(e=Object(P.a)(k.a.mark((function e(){var t,a,c,n,s,r,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=J,a={},c=0,n=0;case 4:return s=0!==Object.keys(a).length?t.startAfter(a):t,e.next=8,s.limit(z).get();case 8:if(r=e.sent,i=r.size,!r.empty&&0!==i){e.next=12;break}return e.abrupt("break",19);case 12:0===n&&x(r.docs.map((function(e){return Object(C.a)(Object(C.a)({},e.data()),{},{id:e.id})}))),c+=i,a=r.docs[i-1],A.set(++n,a),q(A),e.next=4;break;case 19:N(c);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("init"),A.set(0,""),function(){e.apply(this,arguments)}()}),[]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("section",{className:"content",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"card-header",children:[Object(j.jsx)("div",{className:"card-title",children:Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault(),console.log("searchProduct");var t=I;J.startAt(t).endAt(t+"\uf8ff").get().then((function(e){e.empty?L.fire("\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"):(x(e.docs.map((function(e){return Object(C.a)(Object(C.a)({},e.data()),{},{id:e.id})}))),N(e.size))}))},children:Object(j.jsxs)("div",{className:"input-group input-group-sm",style:{width:150},children:[Object(j.jsx)("input",{type:"text",name:"queryName",className:"form-control",placeholder:"Search",onChange:function(e){S(e.target.value)}}),Object(j.jsx)("div",{className:"input-group-append",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-default",children:Object(j.jsx)("i",{className:"fas fa-search"})})})]})})}),Object(j.jsx)("div",{className:"card-tools",children:Object(j.jsx)(i.b,{to:d,className:"btn btn-warning float-right d-inline",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21"})})]}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("div",{className:" table-responsive p-0",children:Object(j.jsxs)("table",{className:"table table-hover text-nowrap",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[s?s.map((function(e,t){return Object(j.jsx)("th",{children:e},t)})):"",Object(j.jsx)("th",{width:"1",className:"text-center",children:"Action"})]})}),Object(j.jsx)("tbody",{children:p?p.map((function(e){return Object(j.jsxs)("tr",{children:[r?r.map((function(t,a){var c=e[t]+"";return c.startsWith("http")?Object(j.jsx)("td",{className:"align-middle",children:Object(j.jsx)("div",{className:"text-center position-relative",style:{width:"60px",height:"60px",border:"1px dashed rgb(182 186 189)",cursor:"pointer"},children:Object(j.jsx)("img",{src:c,className:"w-100 position-absolute",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"},alt:""})})},a):Object(j.jsx)("td",{className:"align-middle",children:c},a)})):"",Object(j.jsxs)("td",{className:"align-middle",children:[Object(j.jsx)(i.b,{to:"".concat(m,"/").concat(e.id),className:"btn btn-primary mr-2",children:Object(j.jsx)("i",{className:"fas fa-edit"})}),Object(j.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return t=e.id,void U.fire({title:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a"}).then((function(e){e.value&&J.doc(t).delete()}));var t},children:Object(j.jsx)("i",{className:"fas fa-trash"})})]})]},e.id)})):""})]})}),Object(j.jsx)(E.a,{component:"div",count:g,page:B,onPageChange:function(e,t){var a=A.get(t);J.startAfter(a).limit(z).get().then((function(e){e.empty||(x(e.docs.map((function(e){return Object(C.a)(Object(C.a)({},e.data()),{},{id:e.id})}))),F(t))}))},rowsPerPage:z,onRowsPerPageChange:function(e){console.log("handleChangeRowsPerPage"),H(e.target.value)}})]})]})})})})})})}function F(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("section",{className:"content-header",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row mb-2",children:Object(j.jsx)("div",{className:"col-sm-6",children:Object(j.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})})})})}),Object(j.jsx)(B,{tableName:"tbUsers",headerList:["\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"],bodyList:["name"],actionLinkCreate:"manageuser/create",actLinkEdit:"manageuser"})]})}var T=a(32),W=a.n(T);function A(e){var t=Object(l.g)(),a=Object(c.useState)(""),n=Object(o.a)(a,2),s=n[0],r=n[1],b=Object(c.useState)(""),u=Object(o.a)(b,2),m=u[0],h=u[1];Object(c.useEffect)((function(){e.match.params.id&&(r(e.match.params.id),d.a.database().ref("tbUser").child(e.match.params.id).on("value",(function(e){var t=e.val();console.log(t),h(t.name)})))}),[e.match.params.id]);return Object(j.jsxs)("div",{children:[Object(j.jsx)("section",{className:"content-header",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row mb-2",children:Object(j.jsx)("div",{className:"col-sm-6",children:Object(j.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})})})})}),Object(j.jsx)("section",{className:"content",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsxs)("div",{className:"card card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("div",{className:"card-title",children:Object(j.jsx)("h3",{className:"card-title",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})})}),Object(j.jsx)("div",{className:"card-body table-responsive p-0",children:Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""!==s){d.a.database().ref("tbUser").child(s).update({name:m,update_date:W()().format()}),t.push("/manageuser")}else{var a=d.a.database().ref("tbUser"),c={name:m,create_date:W()().format(),isactive:1};a.push(c),t.push("/manageuser")}},children:[Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"name",children:"\u0e0a\u0e37\u0e48\u0e2d"}),Object(j.jsx)("input",{type:"name",className:"form-control",id:"name",placeholder:"\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32",value:m,onChange:function(e){h(e.target.value)}})]})}),Object(j.jsxs)("div",{className:"card-footer",children:[Object(j.jsx)(i.b,{to:"/manageuser",className:"btn btn-danger mr-2",children:"Back"}),Object(j.jsx)("div",{className:"float-right",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})]})})]})})})})})]})}function q(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("section",{className:"content-header",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row mb-2",children:Object(j.jsx)("div",{className:"col-sm-6",children:Object(j.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})})})})}),Object(j.jsx)(B,{tableName:"tbProducts",headerList:["\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32","\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17","\u0e23\u0e32\u0e04\u0e32","\u0e23\u0e39\u0e1b"],bodyList:["name","subType","price","thumbnail"],actionLinkCreate:"manageproduct/create",actLinkEdit:"manageproduct"})]})}var G=a(159);function R(e){var t=e.thumbnail,a=e.setIsLoaded,c=e.onThumbnailChange;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{children:"sss"}),Object(j.jsxs)("div",{className:"text-center position-relative",style:{width:"150px",height:"150px",border:"1px dashed rgb(182 186 189)",cursor:"pointer"},children:[Object(j.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];if(void 0!==t){a(!0);var n=d.a.storage().ref("images/").child(Object(G.a)()+"."+t.name.split(".").pop());n.put(t).then((function(){n.getDownloadURL().then((function(e){c(e),a(!1)}))}))}},className:"custom-file-input h-100"}),t&&Object(j.jsx)("button",{style:{position:"absolute",top:0,right:0,width:20,border:0,background:"transparent",zIndex:3},onMouseDown:function(e){c("")},children:"X"}),Object(j.jsx)("img",{src:t,className:"w-100 position-absolute",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",height:"100%"},alt:""}),!t&&Object(j.jsx)("i",{className:"fas fa-plus position-absolute",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})]})]})}function z(e){var t=Object(l.g)(),a=Object(c.useState)(!1),n=Object(o.a)(a,2),s=n[0],r=n[1],d=Object(c.useState)({id:"",name:"",subType:"",price:"",thumbnail:""}),u=Object(o.a)(d,2),m=u[0],h=u[1],O=b.collection("tbProducts");Object(c.useEffect)((function(){e.match.params.id&&O.doc(e.match.params.id).get().then((function(t){h(Object(C.a)(Object(C.a)({},t.data()),{},{id:e.match.params.id}))}))}),[]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("section",{className:"content-header",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row mb-2",children:Object(j.jsx)("div",{className:"col-sm-6",children:Object(j.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})})})})}),Object(j.jsx)("section",{className:"content",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsxs)("div",{className:"card card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("div",{className:"card-title",children:Object(j.jsx)("h3",{className:"card-title",children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})})}),Object(j.jsx)("div",{className:"card-body table-responsive p-0",children:Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""!==m.id){var a={name:m.name,subType:m.subType,price:parseInt(m.price),thumbnail:m.thumbnail,updateDate:W()().format()};O.doc(m.id).update(a),t.push("/manageproduct")}else{var c={name:m.name,subType:m.subType,price:parseInt(m.price),thumbnail:m.thumbnail,createDate:W()().format(),isactive:1};O.add(c),t.push("/manageproduct")}},children:[Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"name",children:"\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",value:m.name,onChange:function(e){h(Object(C.a)(Object(C.a)({},m),{},{name:e.target.value}))}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"subType",children:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"subType",placeholder:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17",value:m.subType,onChange:function(e){h(Object(C.a)(Object(C.a)({},m),{},{subType:e.target.value}))}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"price",children:"\u0e23\u0e32\u0e04\u0e32"}),Object(j.jsx)("input",{type:"number",min:"1",className:"form-control",id:"price",placeholder:"\u0e23\u0e32\u0e04\u0e32",value:m.price,onChange:function(e){h(Object(C.a)(Object(C.a)({},m),{},{price:e.target.value}))}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"image",children:"\u0e23\u0e39\u0e1b\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),Object(j.jsx)(R,{thumbnail:m.thumbnail,setIsLoaded:r,onThumbnailChange:function(e){h(Object(C.a)(Object(C.a)({},m),{},{thumbnail:e}))}})]})]}),Object(j.jsxs)("div",{className:"card-footer",children:[Object(j.jsx)(i.b,{to:"/manageproduct",className:"btn btn-danger mr-2",children:"Back"}),Object(j.jsx)("div",{className:"float-right",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:s?"disabled":"",children:s?" \u2022 \u2022 \u2022 ":"Submit"})})]})]})})]})})})})})]})}function H(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("section",{className:"content-header",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row mb-2",children:Object(j.jsx)("div",{className:"col-sm-6",children:Object(j.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"})})})})}),Object(j.jsx)(B,{tableName:"tbOrderSchedules",orderBy:"tbUser_ID",headerList:["\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32","\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07","\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07","\u0e23\u0e32\u0e04\u0e32"],bodyList:["tbUser_ID","schedule","delivery","totalPrice"],actionLinkCreate:"manageorder-schedule/create",actLinkEdit:"manageorder-schedule"})]})}var J=a(14),K=a(41),M=[{value:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8,15",label:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8,15"},{value:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8",label:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8"},{value:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 15",label:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 15"},{value:"\u0e27\u0e31\u0e19\u0e42\u0e01\u0e19",label:"\u0e27\u0e31\u0e19\u0e42\u0e01\u0e19"},{value:"\u0e27\u0e31\u0e19\u0e1e\u0e24\u0e2b\u0e31\u0e2a",label:"\u0e27\u0e31\u0e19\u0e1e\u0e24\u0e2b\u0e31\u0e2a"},{value:"\u0e27\u0e31\u0e19\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c",label:"\u0e27\u0e31\u0e19\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c"}],Q=[{value:"\u0e44\u0e1b\u0e2a\u0e48\u0e07\u0e17\u0e35\u0e48\u0e1a\u0e49\u0e32\u0e19",label:"\u0e44\u0e1b\u0e2a\u0e48\u0e07\u0e17\u0e35\u0e48\u0e1a\u0e49\u0e32\u0e19"},{value:"\u0e21\u0e32\u0e40\u0e2d\u0e32\u0e17\u0e35\u0e48\u0e15\u0e25\u0e32\u0e14",label:"\u0e21\u0e32\u0e40\u0e2d\u0e32\u0e17\u0e35\u0e48\u0e15\u0e25\u0e32\u0e14"}];function X(e){var t=Object(l.g)(),a=Object(c.useState)({id:"",tbUser_ID:"",schedule:"",delivery:"",remark:"",orderScheduleItems:[{tbProduct_ID:"",qty:""}],totalPrice:""}),n=Object(o.a)(a,2),s=n[0],r=n[1],d=Object(c.useState)([]),u=Object(o.a)(d,2),m=u[0],h=u[1],O=Object(c.useState)([]),p=Object(o.a)(O,2),x=p[0],v=p[1],f=Object(c.useState)([]),g=Object(o.a)(f,2),N=g[0],y=g[1],w=b.collection("tbOrderSchedules"),I=b.collection("tbProducts"),S=b.collection("tbUsers");Object(c.useEffect)((function(){function t(){return(t=Object(P.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.orderBy("name").get();case 2:t=e.sent,h(t.docs.map((function(e){return{value:e.id,label:e.data().name}})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=Object(P.a)(k.a.mark((function e(){var t,a,c,n,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.orderBy("name").get();case 2:t=e.sent,a=t.docs.map((function(e){return{value:e.id,label:e.data().name+(""!==e.data().subType?"("+e.data().subType+")":"")+" "+e.data().price+"\u0e3f",price:e.data().price,nameGroup:e.data().name}})),y(a),c=a.map((function(e){return e.nameGroup})),n=Object(J.a)(new Set(c)),console.log(a),s=n.sort((function(e,t){return e-t})).map((function(e){return{label:e,options:a.filter((function(t){return t.nameGroup===e}))}})),console.log(s),v(s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){a.apply(this,arguments)}(),e.match.params.id&&w.doc(e.match.params.id).get().then((function(t){r(Object(C.a)(Object(C.a)({},t.data()),{},{id:e.match.params.id}))})),function(){r({})}}),[e.match.params.id]);var D=function(e,t){if(0===Object.keys(t).length){var a=Object(J.a)(s.orderScheduleItems);a.splice(e,1),r(Object(C.a)(Object(C.a)({},s),{},{orderScheduleItems:a}))}else{var c=Object(J.a)(s.orderScheduleItems);c[e]=t,r(Object(C.a)(Object(C.a)({},s),{},{orderScheduleItems:c}))}};return Object(j.jsxs)("div",{children:[Object(j.jsx)("section",{className:"content-header",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row mb-2",children:Object(j.jsx)("div",{className:"col-sm-6",children:Object(j.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})})})})}),Object(j.jsx)("section",{className:"content",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsxs)("div",{className:"card card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("div",{className:"card-title",children:Object(j.jsx)("h3",{className:"card-title",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})})}),Object(j.jsx)("div",{className:"card-body table-responsive p-0",children:Object(j.jsxs)("form",{onSubmit:function(e){if(console.log("submit"),e.preventDefault(),console.log(s),""!==s.id){console.log(s.id);var a={tbUser_ID:s.tbUser_ID,totalPrice:parseInt(s.totalPrice),schedule:s.schedule,delivery:s.delivery,remark:s.remark,update_date:W()().format()};S.doc(s.tbUser_ID).get().then((function(e){return a=Object(C.a)(Object(C.a)({},a),{},{tbUser:e.data()})})),s.orderScheduleItems.forEach((function(e,t){I.doc(e.tbProduct_ID).get().then((function(e){return s.orderScheduleItems[t].tbProduct=e.data()})),console.log(s.orderScheduleItems)})),console.log(s.orderScheduleItems),a=Object(C.a)(Object(C.a)({},a),{},{orderScheduleItems:s.orderScheduleItems}),w.doc(s.id).update(a),t.push("/manageorder-schedule")}else{var c={tbUser_ID:s.tbUser_ID,totalPrice:parseInt(s.totalPrice),schedule:s.schedule,delivery:s.delivery,remark:s.remark,create_date:W()().format(),isactive:1};S.doc(s.tbUser_ID).get().then((function(e){return c=Object(C.a)(Object(C.a)({},c),{},{tbUser:e.data()})})),s.orderScheduleItems.forEach((function(e,t){I.doc(e.tbProduct_ID).get().then((function(e){return s.orderScheduleItems[t].tbProduct=e.data()}))})),c=Object(C.a)(Object(C.a)({},c),{},{orderScheduleItems:s.orderScheduleItems}),console.log(c),w.add(c),t.push("/manageorder-schedule")}},children:[Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"tbUser_ID",children:"\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"}),Object(j.jsx)(K.a,{options:m,id:"tbUser_ID",value:m.filter((function(e){return e.value===s.tbUser_ID})),onChange:function(e){r(Object(C.a)(Object(C.a)({},s),{},{tbUser_ID:e.value}))},isSearchable:!1})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"tbUser_ID",children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),s.orderScheduleItems.map((function(e,t){return Object(j.jsx)(Y,{index:t,orderScheduleItem:e,productDropdownGroup:x,productDropdown:N,onOrderScheduleItemChange:D},t)})),Object(j.jsx)("button",{type:"button",className:"border text-center m-auto d-block px-3 btn btn-primary",onClick:function(){var e=Object(J.a)(s.orderScheduleItems);e.push({tbProduct_ID:"",qty:""}),r(Object(C.a)(Object(C.a)({},s),{},{orderScheduleItems:e}))},children:"+"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"totalPrice",children:"\u0e23\u0e32\u0e04\u0e32\u0e23\u0e27\u0e21"}),Object(j.jsx)("input",{type:"number",min:"1",className:"form-control",id:"totalPrice",onChange:function(e){r(Object(C.a)(Object(C.a)({},s),{},{totalPrice:e.target.value}))},value:s.totalPrice})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"schedule",children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"}),Object(j.jsx)(K.a,{options:M,id:"schedule",onChange:function(e){r(Object(C.a)(Object(C.a)({},s),{},{schedule:e.value}))},isSearchable:!1,value:M.filter((function(e){return e.value===s.schedule}))})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"delivery",children:"\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"}),Object(j.jsx)(K.a,{options:Q,id:"delivery",onChange:function(e){r(Object(C.a)(Object(C.a)({},s),{},{delivery:e.value}))},isSearchable:!1,value:Q.filter((function(e){return e.value===s.delivery}))})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"remark",children:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"remark",onChange:function(e){r(Object(C.a)(Object(C.a)({},s),{},{remark:e.target.value}))},value:s.remark})]})]}),Object(j.jsxs)("div",{className:"card-footer",children:[Object(j.jsx)(i.b,{to:"/manageorder-schedule",className:"btn btn-danger mr-2",children:"Back"}),Object(j.jsx)("div",{className:"float-right",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})]})})]})})})})})]})}function Y(e){Object(c.useEffect)((function(){s(e.orderScheduleItem)}),[e.orderScheduleItem]);var t=Object(c.useState)({tbProduct_ID:"",qty:""}),a=Object(o.a)(t,2),n=a[0],s=a[1];return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-8 mb-2 pr-0",children:Object(j.jsx)(K.a,{options:e.productDropdownGroup,id:"tbProduct_ID",onChange:function(t){s(Object(C.a)(Object(C.a)({},n),{},{tbProduct_ID:t.value})),e.onOrderScheduleItemChange(e.index,Object(C.a)(Object(C.a)({},n),{},{tbProduct_ID:t.value}))},isSearchable:!1,value:e.productDropdown.filter((function(t){return t.value===e.orderScheduleItem.tbProduct_ID}))})}),Object(j.jsx)("div",{className:"col-3",children:Object(j.jsx)("input",{type:"number",min:"1",className:"form-control text-right",placeholder:"\u0e08\u0e33\u0e19\u0e27\u0e19",onChange:function(t){s(Object(C.a)(Object(C.a)({},n),{},{qty:t.target.value})),e.onOrderScheduleItemChange(e.index,Object(C.a)(Object(C.a)({},n),{},{qty:t.target.value}))},value:e.orderScheduleItem.qty,pattern:"[0-9]*|\\s"})}),Object(j.jsx)("div",{className:"col-1 pl-0",children:Object(j.jsx)("div",{className:"btn btn-danger btn-block px-0",onClick:function(t){t.preventDefault(),e.onOrderScheduleItemChange({},e.index)},children:"X"})})]})})}function V(){return Object(j.jsxs)(m,{children:[Object(j.jsxs)(i.a,{children:[Object(j.jsx)(h,{}),Object(j.jsx)(g,{}),Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{exact:!0,path:"/",component:N}),Object(j.jsx)(l.b,{exact:!0,path:"/dashboard",component:y}),Object(j.jsx)(l.b,{exact:!0,path:"/manageuser",component:F}),Object(j.jsx)(l.b,{exact:!0,path:"/manageuser/create",component:A}),Object(j.jsx)(l.b,{exact:!0,path:"/manageuser/:id",component:A}),Object(j.jsx)(l.b,{exact:!0,path:"/manageproduct",component:q}),Object(j.jsx)(l.b,{exact:!0,path:"/manageproduct/create",component:z}),Object(j.jsx)(l.b,{exact:!0,path:"/manageproduct/:id",component:z}),Object(j.jsx)(l.b,{exact:!0,path:"/manageorder-schedule",component:H}),Object(j.jsx)(l.b,{exact:!0,path:"/manageorder-schedule/create",component:X}),Object(j.jsx)(l.b,{exact:!0,path:"/manageorder-schedule/:id",component:X}),Object(j.jsx)(l.b,{exact:!0,path:"/login",component:w}),Object(j.jsx)(l.b,{exact:!0,path:"/signup",component:I})]})]}),Object(j.jsx)(f,{})]})}var $=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Z(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ee=a(72),te=a(73),ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e},ce=Object(ee.a)(ae),ne=function(){return Object(j.jsx)(i.a,{children:Object(j.jsx)(te.a,{store:ce,children:Object(j.jsx)(V,{})})})};r.a.render(Object(j.jsx)(ne,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");$?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Z(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Z(e)}))}}()},83:function(e,t,a){}},[[123,1,2]]]);
//# sourceMappingURL=main.5bd62044.chunk.js.map