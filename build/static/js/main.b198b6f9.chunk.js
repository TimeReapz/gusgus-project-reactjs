(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{50:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(18),r=a.n(s),i=(a(50),a(20)),l=a(7),o=a(8),d=a(0);function h(){return Object(d.jsx)("div",{})}var j=a(4),u=a(5),b=a(6),m=a(9),p=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(d.jsx)("div",{})}}]),a}(n.a.Component);function O(){return Object(d.jsx)("div",{children:Object(d.jsx)("nav",{className:"main-header navbar navbar-expand-md navbar-light navbar-white",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)(l.b,{to:"/",className:"navbar-brand",children:[Object(d.jsx)("img",{className:"img img-size-32 mx-2",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg",alt:"Workflow"}),Object(d.jsx)("span",{className:"brand-text font-weight-light",children:"Gusgus"})]}),Object(d.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(d.jsx)("span",{className:"navbar-toggler-icon"})}),Object(d.jsx)("div",{className:"collapse navbar-collapse",id:"navbarCollapse",children:Object(d.jsxs)("ul",{className:"navbar-nav",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(l.c,{to:"/manageorder",className:"nav-link",activeClassName:"active",children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(l.c,{to:"/manageuser",className:"nav-link",activeClassName:"active",children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(l.c,{to:"/manageproduct",className:"nav-link",activeClassName:"active",children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})})]})})]})})})}var v=a(3),x=a.n(v),f=[{value:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8,15",label:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8,15"},{value:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8",label:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8"},{value:"\u0e17\u0e01\u0e38\u0e1e\u0e23\u0e30 15",label:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 15"},{value:"\u0e27\u0e31\u0e19\u0e42\u0e01\u0e19",label:"\u0e27\u0e31\u0e19\u0e42\u0e01\u0e19"},{value:"\u0e27\u0e31\u0e19\u0e1e\u0e24\u0e2b\u0e31\u0e2a",label:"\u0e27\u0e31\u0e19\u0e1e\u0e24\u0e2b\u0e31\u0e2a"},{value:"\u0e27\u0e31\u0e19\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c",label:"\u0e27\u0e31\u0e19\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c"}],g=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var c;return Object(j.a)(this,a),(c=t.call(this,e)).changeDataSchedule=function(e){var t=c.state.dataTableMain;c.setState({dataTable:t.filter((function(t){return t.schedule===e}))}),c.forceUpdate()},c.state={dataTableMain:[],dataTable:[],dataSchedule:1},c}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;x.a.get("https://safe-crag-24120.herokuapp.com/api/order?name=").then((function(t){console.log(t.data),null!==t.data&&e.setState({dataTableMain:t.data,dataTable:t.data.filter((function(e){return"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8,15"===e.schedule}))})}))}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{children:[Object(d.jsx)("section",{className:"content-header",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row mb-2",children:Object(d.jsx)("div",{className:"col-sm-6",children:Object(d.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23"})})})})}),Object(d.jsx)("section",{className:"content",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-12 text-center",children:Object(d.jsx)("div",{className:"btn-group btn-group-toggle flex-wrap","data-toggle":"buttons",children:f.map((function(t,a){return Object(d.jsxs)("label",{className:"btn btn-info mb-1 "+(0===a?"active":""),children:[Object(d.jsx)("input",{type:"radio",name:"options",autoComplete:"off",onClick:function(){return e.changeDataSchedule(t.value)}}),t.label]},a)}))})})}),Object(d.jsx)("div",{className:"row mt-4",children:Object(d.jsx)("div",{className:"col-12",children:this.state.dataTable.map((function(e){return Object(d.jsx)("div",{className:"card card-outline card-primary",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-8 text-lg text-bold",children:e.userModel.name})}),Object(d.jsx)("div",{className:"row mt-3",children:Object(d.jsx)("div",{className:"col-12",children:e.orderItems.map((function(e,t){return Object(d.jsxs)("div",{className:"info-box",children:[Object(d.jsx)("div",{className:"position-relative d-inline-block",style:{width:"80px",height:"80px",cursor:"pointer"},children:Object(d.jsx)("img",{src:e.productModel.thumbnail&&"https://safe-crag-24120.herokuapp.com/"+e.productModel.thumbnail,className:"w-100 position-absolute",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"},alt:""})}),Object(d.jsxs)("div",{className:"info-box-content",children:[Object(d.jsx)("span",{className:"info-box-text text-md",style:{width:"220px"},children:e.productModel.name+(""!==e.productModel.subtype?" ("+e.productModel.subtype+")":"")}),Object(d.jsxs)("span",{className:"info-box-number",children:[e.productModel.price," \u0e3f"]})]}),Object(d.jsx)("div",{className:"info-box-content",children:Object(d.jsxs)("span",{className:"info-box-text text-xl text-right",children:["x ",e.qty]})})]},t)}))})}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-6 text-lg d-table",children:Object(d.jsxs)("div",{className:"d-table-cell align-middle",children:["\u0e23\u0e32\u0e04\u0e32\u0e23\u0e27\u0e21 ",Object(d.jsxs)("b",{children:[e.totalPrice," \u0e3f"]})]})}),Object(d.jsx)("div",{className:"col-6",children:Object(d.jsx)("button",{className:"btn btn-primary btn-block",children:"\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07\u0e41\u0e25\u0e49\u0e27"})})]})]})},e._id)}))})})]})})]})}}]),a}(c.Component),N=a(24),y=a.n(N),w=(y.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1e4}),y.a.mixin({title:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e17\u0e33\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",confirmButtonText:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19"})),k=(y.a.mixin({type:"error",title:"\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14",text:"",allowOutsideClick:!1}),function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var c;return Object(j.a)(this,a),(c=t.call(this,e)).getUsers=function(){var e=c.queryName.value;x.a.get("https://safe-crag-24120.herokuapp.com"+"/api/user?name=".concat(e)).then((function(e){null!=e.data?c.setState({dataTable:e.data}):c.setState({dataTable:[]})}))},c.delUser=function(e){w.fire({title:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a"}).then((function(t){t.value&&x.a.delete("https://safe-crag-24120.herokuapp.com"+"/api/user/".concat(e)).then((function(e){c.getUsers()}))}))},c.state={queryName:"",dataTable:[]},c}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"render",value:function(){var e=this,t=this.state.dataTable;return Object(d.jsxs)("div",{children:[Object(d.jsx)("section",{className:"content-header",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row mb-2",children:Object(d.jsx)("div",{className:"col-sm-6",children:Object(d.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})})})})}),Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-12",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("div",{className:"card-title",children:Object(d.jsxs)("div",{className:"input-group input-group-sm",style:{width:150},children:[Object(d.jsx)("input",{type:"text",name:"queryName",className:"form-control",placeholder:"Search",ref:function(t){return e.queryName=t},onChange:this.getUsers}),Object(d.jsx)("div",{className:"input-group-append",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-default",onClick:function(){return e.getUsers()},children:Object(d.jsx)("i",{className:"fas fa-search"})})})]})}),Object(d.jsx)("div",{className:"card-tools",children:Object(d.jsx)(l.b,{to:"/manageuser-create",className:"btn btn-warning float-right d-inline",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21"})})]}),Object(d.jsx)("div",{className:"card-body table-responsive p-0",children:Object(d.jsxs)("table",{className:"table table-hover text-nowrap",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"\u0e0a\u0e37\u0e48\u0e2d"}),Object(d.jsx)("th",{width:"1",className:"text-center",children:"Action"})]})}),Object(d.jsx)("tbody",{children:t.map((function(t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:t.name}),Object(d.jsxs)("td",{children:[Object(d.jsx)(l.b,{to:{pathname:"manageuser-create/".concat(t.id)},className:"btn btn-primary mr-2",children:Object(d.jsx)("i",{className:"fas fa-edit"})}),Object(d.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.delUser(t.id)},children:Object(d.jsx)("i",{className:"fas fa-trash"})})]})]},t.id)}))})]})})]})})})})})]})}}]),a}(c.Component)),C=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var c,n;return Object(j.a)(this,a),(n=t.call(this,e)).saveUser=function(e){e.preventDefault();var t=n.state.id;0!==t?x.a.patch("https://safe-crag-24120.herokuapp.com"+"/api/user/".concat(t),{name:n.name.value}).then((function(e){n.props.history.push("/manageuser")})):x.a.post("https://safe-crag-24120.herokuapp.com/api/user",{name:n.name.value}).then((function(e){n.props.history.push("/manageuser")}))},n.state={id:null!==(c=e.match.params.id)&&void 0!==c?c:0},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.id;t&&x.a.get("https://safe-crag-24120.herokuapp.com"+"/api/user/".concat(t)).then((function(t){e.name.value=t.data.name}))}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{children:[Object(d.jsx)("section",{className:"content-header",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row mb-2",children:Object(d.jsx)("div",{className:"col-sm-6",children:Object(d.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})})})})}),Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-12",children:Object(d.jsxs)("div",{className:"card card-outline card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("div",{className:"card-title",children:Object(d.jsx)("h3",{className:"card-title",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})})}),Object(d.jsx)("div",{className:"card-body table-responsive p-0",children:Object(d.jsxs)("form",{onSubmit:this.saveUser,children:[Object(d.jsx)("div",{className:"card-body",children:Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"name",children:"\u0e0a\u0e37\u0e48\u0e2d"}),Object(d.jsx)("input",{type:"name",className:"form-control",id:"name",placeholder:"\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32",ref:function(t){return e.name=t}})]})}),Object(d.jsxs)("div",{className:"card-footer",children:[Object(d.jsx)(l.b,{to:"/manageuser",className:"btn btn-danger mr-2",children:"Back"}),Object(d.jsx)("div",{className:"float-right",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})]})})]})})})})})]})}}]),a}(c.Component);x.a.defaults.headers["Access-Control-Allow-Origin"]="*";var I=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var c;return Object(j.a)(this,a),(c=t.call(this,e)).getProducts=function(){var e=c.queryName.value;x.a.get("https://safe-crag-24120.herokuapp.com"+"/api/product?name=".concat(e),{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){null!=e.data?c.setState({dataTable:e.data}):c.setState({dataTable:[]})}))},c.delProduct=function(e){w.fire({title:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a"}).then((function(t){t.value&&x.a.delete("https://safe-crag-24120.herokuapp.com"+"/api/product/".concat(e)).then((function(e){c.getProducts()}))}))},c.state={queryName:"",dataTable:[]},c}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getProducts()}},{key:"render",value:function(){var e=this,t=this.state.dataTable;return Object(d.jsxs)("div",{children:[Object(d.jsx)("section",{className:"content-header",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row mb-2",children:Object(d.jsx)("div",{className:"col-sm-6",children:Object(d.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})})})})}),Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-12",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("div",{className:"card-title",children:Object(d.jsxs)("div",{className:"input-group input-group-sm",style:{width:150},children:[Object(d.jsx)("input",{type:"text",name:"queryName",className:"form-control",placeholder:"Search",ref:function(t){return e.queryName=t},onChange:this.getProducts}),Object(d.jsx)("div",{className:"input-group-append",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-default",onClick:function(){return e.getProducts()},children:Object(d.jsx)("i",{className:"fas fa-search"})})})]})}),Object(d.jsx)("div",{className:"card-tools",children:Object(d.jsx)(l.b,{to:"/manageproduct-create",className:"btn btn-warning float-right d-inline",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21"})})]}),Object(d.jsx)("div",{className:"card-body table-responsive p-0",children:Object(d.jsxs)("table",{className:"table table-hover text-nowrap",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"\u0e0a\u0e37\u0e48\u0e2d"}),Object(d.jsx)("th",{children:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17"}),Object(d.jsx)("th",{children:"\u0e23\u0e32\u0e04\u0e32"}),Object(d.jsx)("th",{width:"1",className:"text-center",children:"Action"})]})}),Object(d.jsx)("tbody",{children:t.map((function(t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:t.name}),Object(d.jsx)("td",{children:t.subType}),Object(d.jsx)("td",{children:t.price}),Object(d.jsxs)("td",{children:[Object(d.jsx)(l.b,{to:{pathname:"manageproduct-create/".concat(t.id)},className:"btn btn-primary mr-2",children:Object(d.jsx)("i",{className:"fas fa-edit"})}),Object(d.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.delProduct(t.id)},children:Object(d.jsx)("i",{className:"fas fa-trash"})})]})]},t.id)}))})]})})]})})})})})]})}}]),a}(c.Component),S=a(14),T=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var c,n;return Object(j.a)(this,a),(n=t.call(this,e)).handleFileChange=function(e){n.setState({file:e})},n.saveProduct=function(e){e.preventDefault();var t=n.state.id,a={name:n.name.value,subType:n.subType.value,price:parseInt(n.price.value),thumbnail:n.state.file};0!==t?x.a.patch("https://safe-crag-24120.herokuapp.com"+"/api/product/".concat(t),a).then((function(e){n.props.history.push("/manageproduct")})):x.a.post("https://safe-crag-24120.herokuapp.com/api/product",a).then((function(e){n.props.history.push("/manageproduct")}))},n.state={id:null!==(c=e.match.params.id)&&void 0!==c?c:0,file:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.id;t&&x.a.get("https://safe-crag-24120.herokuapp.com"+"/api/product/".concat(t)).then((function(t){e.name.value=t.data.name,e.subType.value=t.data.subType,e.price.value=t.data.price,e.setState({file:t.data.thumbnail})}))}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{children:[Object(d.jsx)("section",{className:"content-header",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row mb-2",children:Object(d.jsx)("div",{className:"col-sm-6",children:Object(d.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})})})})}),Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-12",children:Object(d.jsxs)("div",{className:"card card-outline card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("div",{className:"card-title",children:Object(d.jsx)("h3",{className:"card-title",children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})})}),Object(d.jsx)("div",{className:"card-body table-responsive p-0",children:Object(d.jsxs)("form",{onSubmit:this.saveProduct,children:[Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"name",children:"\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",ref:function(t){return e.name=t}})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"subType",children:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"subType",placeholder:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17",ref:function(t){return e.subType=t}})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"price",children:"\u0e23\u0e32\u0e04\u0e32"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"price",placeholder:"\u0e23\u0e32\u0e04\u0e32",ref:function(t){return e.price=t}})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"image",children:"\u0e23\u0e39\u0e1b\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),Object(d.jsx)(D,{file:this.state.file,onFileChange:this.handleFileChange})]})]}),Object(d.jsxs)("div",{className:"card-footer",children:[Object(d.jsx)(l.b,{to:"/manageproduct",className:"btn btn-danger mr-2",children:"Back"}),Object(d.jsx)("div",{className:"float-right",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})]})})]})})})})})]})}}]),a}(c.Component),D=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var c;return Object(j.a)(this,a),(c=t.call(this,e)).onChange=c.onChange.bind(Object(S.a)(c)),c.resetFile=c.resetFile.bind(Object(S.a)(c)),c}return Object(u.a)(a,[{key:"onChange",value:function(e){var t=this,a=new FormData;a.append("image",e.target.files[0]),x.a.post("https://safe-crag-24120.herokuapp.com/api/upload",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.props.onFileChange(e.data)}))}},{key:"resetFile",value:function(e){e.preventDefault(),this.props.onFileChange(null)}},{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"text-center position-relative",style:{width:"100px",height:"100px",border:"1px dashed rgb(182 186 189)",cursor:"pointer"},children:[Object(d.jsx)("input",{type:"file",onChange:this.onChange,className:"custom-file-input h-100"}),this.props.file&&Object(d.jsx)("button",{style:{position:"absolute",top:0,right:0,width:20,border:0,background:"transparent",zIndex:3},onClick:this.resetFile,children:"X"}),Object(d.jsx)("img",{src:this.props.file&&"https://safe-crag-24120.herokuapp.com/"+this.props.file,className:"w-100 position-absolute",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"},alt:""}),!this.props.file&&Object(d.jsx)("i",{className:"fas fa-plus position-absolute",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})]})})}}]),a}(c.Component);x.a.defaults.headers["Access-Control-Allow-Origin"]="*";var q=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var c;return Object(j.a)(this,a),(c=t.call(this,e)).getOrders=function(){var e=c.queryName.value;x.a.get("https://safe-crag-24120.herokuapp.com"+"/api/order?name=".concat(e)).then((function(e){null!=e.data?(console.log(e.data),c.setState({dataTable:e.data})):c.setState({dataTable:[]})}))},c.delOrder=function(e){w.fire({title:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a"}).then((function(t){t.value&&x.a.delete("https://safe-crag-24120.herokuapp.com"+"/api/order/".concat(e)).then((function(e){c.getOrders()}))}))},c.state={queryName:"",dataTable:[]},c}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getOrders()}},{key:"render",value:function(){var e=this,t=this.state.dataTable;return Object(d.jsxs)("div",{children:[Object(d.jsx)("section",{className:"content-header",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row mb-2",children:Object(d.jsx)("div",{className:"col-sm-6",children:Object(d.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"})})})})}),Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-12",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsxs)("div",{className:"card-header",children:[Object(d.jsx)("div",{className:"card-title",children:Object(d.jsxs)("div",{className:"input-group input-group-sm",style:{width:150},children:[Object(d.jsx)("input",{type:"text",name:"queryName",className:"form-control",placeholder:"Search",ref:function(t){return e.queryName=t},onChange:this.getOrders}),Object(d.jsx)("div",{className:"input-group-append",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-default",onClick:function(){return e.getOrders()},children:Object(d.jsx)("i",{className:"fas fa-search"})})})]})}),Object(d.jsx)("div",{className:"card-tools",children:Object(d.jsx)(l.b,{to:"/manageorder-create",className:"btn btn-warning float-right d-inline",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21"})})]}),Object(d.jsx)("div",{className:"card-body table-responsive p-0",children:Object(d.jsxs)("table",{className:"table table-hover text-nowrap",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"\u0e0a\u0e37\u0e48\u0e2d"}),Object(d.jsx)("th",{children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"}),Object(d.jsx)("th",{children:"\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"}),Object(d.jsx)("th",{width:"1",className:"text-center",children:"Action"})]})}),Object(d.jsx)("tbody",{children:t.map((function(t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:t.userModel.name}),Object(d.jsx)("td",{children:t.schedule}),Object(d.jsx)("td",{children:t.delivery}),Object(d.jsxs)("td",{children:[Object(d.jsx)(l.b,{to:{pathname:"manageorder-create/".concat(t._id)},className:"btn btn-primary mr-2",children:Object(d.jsx)("i",{className:"fas fa-edit"})}),Object(d.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.delOrder(t.id)},children:Object(d.jsx)("i",{className:"fas fa-trash"})})]})]},t._id)}))})]})})]})})})})})]})}}]),a}(c.Component),F=a(21),P=a(22),M=[{value:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8,15",label:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8,15"},{value:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8",label:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8"},{value:"\u0e17\u0e01\u0e38\u0e1e\u0e23\u0e30 15",label:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 15"},{value:"\u0e27\u0e31\u0e19\u0e42\u0e01\u0e19",label:"\u0e27\u0e31\u0e19\u0e42\u0e01\u0e19"},{value:"\u0e27\u0e31\u0e19\u0e1e\u0e24\u0e2b\u0e31\u0e2a",label:"\u0e27\u0e31\u0e19\u0e1e\u0e24\u0e2b\u0e31\u0e2a"},{value:"\u0e27\u0e31\u0e19\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c",label:"\u0e27\u0e31\u0e19\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c"}],U=[{value:"\u0e44\u0e1b\u0e2a\u0e48\u0e07\u0e17\u0e35\u0e48\u0e1a\u0e49\u0e32\u0e19",label:"\u0e44\u0e1b\u0e2a\u0e48\u0e07\u0e17\u0e35\u0e48\u0e1a\u0e49\u0e32\u0e19"},{value:"\u0e21\u0e32\u0e40\u0e2d\u0e32\u0e17\u0e35\u0e48\u0e15\u0e25\u0e32\u0e14",label:"\u0e21\u0e32\u0e40\u0e2d\u0e32\u0e17\u0e35\u0e48\u0e15\u0e25\u0e32\u0e14"}];x.a.defaults.headers["Access-Control-Allow-Origin"]="*";var A=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var c,n;return Object(j.a)(this,a),(n=t.call(this,e)).handleOrderItemChange=function(e,t){if(0===e.length){var a=Object(F.a)(n.state.orderItems);a.splice(t,1),n.setState({orderItems:a})}else{var c=Object(F.a)(n.state.orderItems);c[t]=e,n.setState({orderItems:c})}},n.addEmptyOrderItem=function(){var e=Object(F.a)(n.state.orderItems);e.push({productId:"",qty:""}),n.setState({orderItems:e})},n.saveOrder=function(e){var t;e.preventDefault();var a=n.state.id,c={userId:n.state.userId,orderItems:n.state.orderItems,totalPrice:parseInt(null!==(t=n.totalPrice.value)&&void 0!==t?t:0),delivery:n.state.delivery,schedule:n.state.schedule,remark:n.remark.value};0!==a?x.a.patch("https://safe-crag-24120.herokuapp.com"+"/api/order/".concat(a),c).then((function(e){n.props.history.push("/manageorder")})):x.a.post("https://safe-crag-24120.herokuapp.com/api/order",c).then((function(e){n.props.history.push("/manageorder")}))},n.state={id:null!==(c=e.match.params.id)&&void 0!==c?c:0,userDropdown:[],productDropdownGroup:[],productDropdown:[],productList:[],userId:"",schedule:"",delivery:"",orderItems:[{productId:"",qty:""}]},n.handleUserChange=n.handleUserChange.bind(Object(S.a)(n)),n.handleScheduleChange=n.handleScheduleChange.bind(Object(S.a)(n)),n.handleDeliveryChange=n.handleDeliveryChange.bind(Object(S.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.init()}},{key:"init",value:function(){var e=this,t=this.state.id;t&&x.a.get("https://safe-crag-24120.herokuapp.com"+"/api/order/".concat(t)).then((function(t){console.log(t),e.setState({userId:t.data.userId,orderItems:t.data.orderItems,schedule:t.data.schedule,delivery:t.data.delivery}),e.totalPrice.value=t.data.totalPrice})),x.a.get("https://safe-crag-24120.herokuapp.com/api/user?q=").then((function(t){var a=[];t.data.forEach((function(e){var t={value:e.id,label:e.name};a.push(t)})),e.setState({userDropdown:a})})),x.a.get("https://safe-crag-24120.herokuapp.com/api/product?q=").then((function(t){var a=[],c=[];t.data.sort((function(e,t){return e.name-t.name})).forEach((function(e){var t={value:e.id,label:e.name+(""!==e.subType?"("+e.subType+")":"")+" "+e.price+"\u0e3f"},n=a.find((function(t){return t.label===e.name}));n?n.options.push(t):a.push({label:e.name,options:[t]}),c.push(t)})),e.setState({productDropdownGroup:a,productDropdown:c,productList:t.data})}))}},{key:"handleUserChange",value:function(e){this.setState({userId:e.value})}},{key:"handleScheduleChange",value:function(e){this.setState({schedule:e.value})}},{key:"handleDeliveryChange",value:function(e){this.setState({delivery:e.value})}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{children:[Object(d.jsx)("section",{className:"content-header",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row mb-2",children:Object(d.jsx)("div",{className:"col-sm-6",children:Object(d.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})})})})}),Object(d.jsx)("section",{className:"content",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-12",children:Object(d.jsxs)("div",{className:"card card-outline card-primary",children:[Object(d.jsx)("div",{className:"card-header",children:Object(d.jsx)("div",{className:"card-title",children:Object(d.jsx)("h3",{className:"card-title",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})})}),Object(d.jsx)("div",{className:"card-body table-responsive p-0",children:Object(d.jsxs)("form",{onSubmit:this.saveOrder,children:[Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"userId",children:"\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"}),Object(d.jsx)(P.a,{options:this.state.userDropdown,id:"userId",value:this.state.userDropdown.filter((function(t){return t.value===e.state.userId})),onChange:this.handleUserChange,isSearchable:!1})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"userId",children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),this.state.orderItems.map((function(t,a){return Object(d.jsx)(B,{index:a,orderItem:t,productDropdown:e.state.productDropdown,productDropdownGroup:e.state.productDropdownGroup,onOrderItemChange:e.handleOrderItemChange},a)})),Object(d.jsx)("button",{type:"button",className:"border text-center m-auto d-block px-3 btn btn-primary",onClick:this.addEmptyOrderItem,children:"+"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"totalPrice",children:"\u0e23\u0e32\u0e04\u0e32\u0e23\u0e27\u0e21"}),Object(d.jsx)("input",{type:"number",className:"form-control",id:"totalPrice",ref:function(t){return e.totalPrice=t}})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"schedule",children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"}),Object(d.jsx)(P.a,{options:M,id:"schedule",onChange:this.handleScheduleChange,isSearchable:!1,value:M.filter((function(t){return t.value===e.state.schedule}))})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"delivery",children:"\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"}),Object(d.jsx)(P.a,{options:U,id:"delivery",onChange:this.handleDeliveryChange,isSearchable:!1,value:U.filter((function(t){return t.value===e.state.delivery}))})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"remark",children:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"remark",ref:function(t){return e.remark=t}})]})]}),Object(d.jsxs)("div",{className:"card-footer",children:[Object(d.jsx)(l.b,{to:"/manageorder",className:"btn btn-danger mr-2",children:"Back"}),Object(d.jsx)("div",{className:"float-right",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})]})})]})})})})})]})}}]),a}(c.Component),B=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var c,n,s;return Object(j.a)(this,a),(s=t.call(this,e)).state={productId:null!==(c=s.props.orderItem.productId)&&void 0!==c?c:"",qty:null!==(n=s.props.orderItem.qty)&&void 0!==n?n:0},s.onProductChange=s.onProductChange.bind(Object(S.a)(s)),s.onQtyChange=s.onQtyChange.bind(Object(S.a)(s)),s.removeOrderItem=s.removeOrderItem.bind(Object(S.a)(s)),s}return Object(u.a)(a,[{key:"onProductChange",value:function(e){this.setState({productId:e.value});var t={productId:e.value,qty:this.state.qty};this.props.onOrderItemChange(t,this.props.index)}},{key:"onQtyChange",value:function(e){var t;this.setState({qty:e.target.value});var a={productId:this.state.productId,qty:parseInt(null!==(t=e.target.value)&&void 0!==t?t:0)};this.props.onOrderItemChange(a,this.props.index)}},{key:"removeOrderItem",value:function(e){e.preventDefault(),this.props.onOrderItemChange([],this.props.index)}},{key:"render",value:function(){var e=this;return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-8 mb-2 pr-0",children:Object(d.jsx)(P.a,{value:this.props.productDropdown.filter((function(t){return t.value===e.props.orderItem.productId})),options:this.props.productDropdownGroup,id:"productId",onChange:this.onProductChange,isSearchable:!1})}),Object(d.jsx)("div",{className:"col-3",children:Object(d.jsx)("input",{type:"number",className:"form-control text-right",placeholder:"\u0e08\u0e33\u0e19\u0e27\u0e19",onChange:this.onQtyChange,value:this.props.orderItem.qty,pattern:"[0-9]*|\\s"})}),Object(d.jsx)("div",{className:"col-1 pl-0",children:Object(d.jsx)("button",{className:"btn btn-danger btn-block px-0",onClick:this.removeOrderItem,children:"X"})})]})})}}]),a}(c.Component),E=[{path:"/",exact:!0,component:g},{path:"/manageuser",component:k},{path:"/manageuser-create/:id",component:C},{path:"/manageuser-create",component:C},{path:"/manageproduct",component:I},{path:"/manageproduct-create/:id",component:T},{path:"/manageproduct-create",component:T},{path:"/manageorder",component:q},{path:"/manageorder-create/:id",component:A},{path:"/manageorder-create",component:A}];function G(){return Object(d.jsxs)("div",{children:[Object(d.jsxs)(l.a,{children:[Object(d.jsx)(h,{}),Object(d.jsx)(O,{}),Object(d.jsx)(o.c,{children:E.map((function(e,t){return Object(d.jsx)(W,Object(i.a)({},e),t)}))})]}),Object(d.jsx)(p,{})]})}function W(e){return Object(d.jsx)(o.a,{path:e.path,render:function(t){return Object(d.jsx)(e.component,Object(i.a)(Object(i.a)({},t),{},{routes:e.routes}))}})}var Q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function L(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var _=a(44),z=a(45),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e},X=Object(_.a)(J),R=function(){return Object(d.jsx)(l.a,{children:Object(d.jsx)(z.a,{store:X,children:Object(d.jsx)(G,{})})})};r.a.render(Object(d.jsx)(R,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Q?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):L(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):L(e)}))}}()}},[[99,1,2]]]);
//# sourceMappingURL=main.b198b6f9.chunk.js.map