(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{120:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(19),r=c.n(n),i=(c(82),c(83),c(12)),l=c(16),o=c(6),d=c(41);c(121),c(122),c(123),c(85);d.a.initializeApp({apiKey:"AIzaSyDNYaKmy4RDoBWWrF56cP2vyBsKsdLLfsc",authDomain:"gusgus-project.firebaseapp.com",databaseURL:"https://gusgus-project-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"gusgus-project",storageBucket:"gusgus-project.appspot.com",messagingSenderId:"715385701552",appId:"1:715385701552:web:1746c7c54cf774a7d52775",measurementId:"G-3MBP2J073Q"}),d.a.analytics();var j=d.a.firestore(),b=c(0),m=s.a.createContext(),u=function(e){var t=e.children,c=Object(a.useState)(!0),s=Object(o.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)(null),l=Object(o.a)(i,2),j=l[0],u=l[1];return Object(a.useEffect)((function(){d.a.auth().onAuthStateChanged((function(e){u(e),r(!1)}))}),[]),n?Object(b.jsx)("p",{children:"Loading..."}):Object(b.jsx)(m.Provider,{value:{currentUser:j},children:t})};function h(){return Object(b.jsx)(b.Fragment,{})}function x(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("footer",{className:"main-footer p-0",children:Object(b.jsx)("nav",{className:"navbar navbar-expand justify-content-center text-center p-0 pt-1",children:Object(b.jsxs)("ul",{className:"navbar-nav nav-footer w-100",children:[Object(b.jsx)("li",{className:"nav-item w-100",children:Object(b.jsxs)(i.c,{to:"/my-orderschedule",className:"nav-link",activeClassName:"active",children:[Object(b.jsx)("i",{className:"fa fa-truck"}),Object(b.jsx)("div",{children:"\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"})]})}),Object(b.jsx)("li",{className:"nav-item w-100",children:Object(b.jsxs)(i.c,{to:"/manageorder-schedule",className:"nav-link",activeClassName:"active",children:[Object(b.jsx)("i",{className:"fa fa-shopping-bag"}),Object(b.jsx)("div",{children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23"})]})}),Object(b.jsx)("li",{className:"nav-item w-100",children:Object(b.jsxs)(i.c,{to:"/manageuser",className:"nav-link",activeClassName:"active",children:[Object(b.jsx)("i",{className:"fa fa-address-book"}),Object(b.jsx)("div",{children:"\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})]})}),Object(b.jsx)("li",{className:"nav-item w-100",children:Object(b.jsxs)(i.c,{to:"/manageproduct",className:"nav-link",activeClassName:"active",children:[Object(b.jsx)("i",{className:"fa fa-fan"}),Object(b.jsx)("div",{children:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})]})}),Object(b.jsx)("li",{className:"nav-item w-100",children:Object(b.jsxs)(i.c,{to:"/dashboard",className:"nav-link",activeClassName:"active",children:[Object(b.jsx)("i",{className:"fa fa-layer-group"}),Object(b.jsx)("div",{children:"\u0e20\u0e32\u0e1e\u0e23\u0e27\u0e21"})]})})]})})})})}function O(){var e=Object(a.useContext)(m).currentUser;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("nav",{className:"main-header navbar navbar-expand navbar-light navbar-white",children:[Object(b.jsxs)("ul",{className:"navbar-nav",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("a",{href:"/#",className:"nav-link","data-widget":"pushmenu",role:"button",children:Object(b.jsx)("i",{className:"fas fa-bars"})})}),Object(b.jsx)("li",{className:"nav-item d-none d-sm-inline-block",children:Object(b.jsx)(i.c,{to:"/my-orderschedule",className:"nav-link",activeClassName:"active",children:"\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"})}),Object(b.jsx)("li",{className:"nav-item d-none d-sm-inline-block",children:Object(b.jsx)(i.c,{to:"/manageorder-schedule",className:"nav-link",activeClassName:"active",children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"})}),Object(b.jsx)("li",{className:"nav-item d-none d-sm-inline-block",children:Object(b.jsx)(i.c,{to:"/manageuser",className:"nav-link",activeClassName:"active",children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})}),Object(b.jsx)("li",{className:"nav-item d-none d-sm-inline-block",children:Object(b.jsx)(i.c,{to:"/manageproduct",className:"nav-link",activeClassName:"active",children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})}),Object(b.jsx)("li",{className:"nav-item d-none d-sm-inline-block",children:Object(b.jsx)(i.c,{to:"/dashboard",className:"nav-link",activeClassName:"active",children:"\u0e20\u0e32\u0e1e\u0e23\u0e27\u0e21"})}),Object(b.jsx)("li",{className:"nav-item d-none d-sm-inline-block",children:Object(b.jsx)(i.c,{to:"/manageconfig",className:"nav-link",activeClassName:"active",children:"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32"})})]}),Object(b.jsx)("ul",{className:"order-1 order-md-3 navbar-nav navbar-no-expand ml-auto",children:Object(b.jsx)("li",{className:"nav-item",children:e?Object(b.jsx)(i.c,{to:"/",onClick:function(){return d.a.auth().signOut()},className:"nav-link",activeClassName:"active",children:"Logout"}):Object(b.jsx)(i.c,{to:"/",className:"nav-link",activeClassName:"active",children:"Login"})})})]})})}function p(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary",children:[Object(b.jsxs)("a",{href:"index3.html",className:"brand-link",children:[Object(b.jsx)("img",{"data-cfsrc":"dist/img/AdminLTELogo.png",alt:"AdminLTE Logo",className:"brand-image img-circle elevation-3","data-cfstyle":"opacity: .8",style:{opacity:".8"},src:"https://adminlte.io/themes/v3/dist/img/AdminLTELogo.png"}),Object(b.jsx)("span",{className:"brand-text font-weight-light",children:"Gusgus"})]}),Object(b.jsxs)("div",{className:"sidebar",children:[Object(b.jsxs)("div",{className:"user-panel mt-3 pb-3 mb-3 d-flex",children:[Object(b.jsx)("div",{className:"image",children:Object(b.jsx)("img",{"data-cfsrc":"dist/img/user2-160x160.jpg",className:"img-circle elevation-2",alt:"User ",src:"https://adminlte.io/themes/v3/dist/img/user2-160x160.jpg"})}),Object(b.jsx)("div",{className:"info",children:Object(b.jsx)("a",{href:"/#",className:"d-block",children:"User: Administator"})})]}),Object(b.jsx)("div",{className:"form-inline",children:Object(b.jsxs)("div",{className:"input-group","data-widget":"sidebar-search",children:[Object(b.jsx)("input",{className:"form-control form-control-sidebar",type:"search",placeholder:"Search","aria-label":"Search"}),Object(b.jsx)("div",{className:"input-group-append",children:Object(b.jsx)("button",{className:"btn btn-sidebar",children:Object(b.jsx)("i",{className:"fas fa-search fa-fw"})})})]})}),Object(b.jsx)("nav",{className:"mt-2",children:Object(b.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(i.c,{to:"/my-orderschedule",className:"nav-link",activeClassName:"active",children:[Object(b.jsx)("i",{className:"far fa-circle nav-icon"}),Object(b.jsx)("p",{children:"\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"})]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(i.c,{to:"/manageorder-schedule",className:"nav-link",activeClassName:"active",children:[Object(b.jsx)("i",{className:"far fa-circle nav-icon"}),Object(b.jsx)("p",{children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"})]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(i.c,{to:"/manageuser",className:"nav-link",activeClassName:"active",children:[Object(b.jsx)("i",{className:"far fa-circle nav-icon"}),Object(b.jsx)("p",{children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(i.c,{to:"/manageproduct",className:"nav-link",activeClassName:"active",children:[Object(b.jsx)("i",{className:"far fa-circle nav-icon"}),Object(b.jsx)("p",{children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(i.c,{to:"/dashboard",className:"nav-link",activeClassName:"active",children:[Object(b.jsx)("i",{className:"far fa-circle nav-icon"}),Object(b.jsx)("p",{children:"\u0e20\u0e32\u0e1e\u0e23\u0e27\u0e21"})]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(i.c,{to:"/dashboard-monthly-overall",className:"nav-link",activeClassName:"active",children:[Object(b.jsx)("i",{className:"far fa-circle nav-icon"}),Object(b.jsx)("p",{children:"\u0e2a\u0e23\u0e38\u0e1b\u0e23\u0e32\u0e22\u0e40\u0e14\u0e37\u0e2d\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"})]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(i.c,{to:"/dashboard-monthly-customer",className:"nav-link",activeClassName:"active",children:[Object(b.jsx)("i",{className:"far fa-circle nav-icon"}),Object(b.jsx)("p",{children:"\u0e2a\u0e23\u0e38\u0e1b\u0e23\u0e32\u0e22\u0e40\u0e14\u0e37\u0e2d\u0e19\u0e23\u0e32\u0e22\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(i.c,{to:"/manageconfig",className:"nav-link",activeClassName:"active",children:[Object(b.jsx)("i",{className:"far fa-circle nav-icon"}),Object(b.jsx)("p",{children:"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32"})]})})]})})]})]})})}var v=function(){var e=Object(a.useContext)(m).currentUser;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"container mt-5",children:[Object(b.jsx)("h1",{children:"Home"}),e?Object(b.jsxs)("p",{children:["You are logged in - ",Object(b.jsx)(i.b,{to:"/dashboard",children:"View Dashboard"})]}):Object(b.jsxs)("p",{children:[Object(b.jsx)(i.b,{to:"/login",className:"btn btn-primary",children:"Log In"})," ","or"," ",Object(b.jsx)(i.b,{to:"/signup",className:"btn btn-success",children:"Sign Up"})]})]})})},f=c(14),N=c.n(f),g=c(23),y=c(32),w=c(36),S=(c(43),[{value:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8|\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8,15",label:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8"},{value:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 15|\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8,15",label:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 15"},{value:"\u0e27\u0e31\u0e19\u0e42\u0e01\u0e19",label:"\u0e27\u0e31\u0e19\u0e42\u0e01\u0e19"},{value:"\u0e27\u0e31\u0e19\u0e1e\u0e24\u0e2b\u0e31\u0e2a",label:"\u0e27\u0e31\u0e19\u0e1e\u0e24\u0e2b\u0e31\u0e2a"},{value:"\u0e27\u0e31\u0e19\u0e40\u0e2a\u0e32\u0e23\u0e4c",label:"\u0e27\u0e31\u0e19\u0e40\u0e2a\u0e32\u0e23\u0e4c"},{value:"\u0e27\u0e31\u0e19\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c",label:"\u0e27\u0e31\u0e19\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c"},{value:"\u0e27\u0e31\u0e19\u0e2b\u0e27\u0e22\u0e2d\u0e2d\u0e01",label:"\u0e27\u0e31\u0e19\u0e2b\u0e27\u0e22\u0e2d\u0e2d\u0e01"}]),k=function(){var e=Object(a.useState)("\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8|\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8,15"),t=Object(o.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(new Set),r=Object(o.a)(n,2),i=r[0],l=r[1],d=j.collection("tbOrderSchedules");function m(){return(m=Object(g.a)(N.a.mark((function e(t){var c,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.where("schedule","in",t.split("|")).get();case 2:c=e.sent,a=[],c.docs.forEach((function(e){e.data().orderScheduleItems.forEach((function(e){if(a.some((function(t){return t.products_id===e.products_id}))){var t=a.findIndex((function(t){return t.products_id===e.products_id}));a[t].qty=parseInt(a[t].qty)+parseInt(e.qty)}else a.push(e)}))})),l(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){return function(e){m.apply(this,arguments)}(c),function(){l([])}}),[c]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("section",{className:"content-header",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row mb-2",children:Object(b.jsx)("div",{className:"col-sm-6",children:Object(b.jsx)("h1",{children:"\u0e20\u0e32\u0e1e\u0e23\u0e27\u0e21"})})})})}),Object(b.jsx)("section",{className:"content",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)(y.a,{options:S,id:"schedule",onChange:function(e){s(e.value)},isSearchable:!1,value:S.filter((function(e){return e.value===c}))})})}),Object(b.jsx)("div",{className:"row mt-4",children:Object(b.jsx)("div",{className:"col-12",children:i.length>0?i.sort((function(e,t){return e.products_name.localeCompare(t.products_name)})).map((function(e){return Object(b.jsxs)("div",{className:"info-box border-0 rounded-0 m-0",children:[Object(b.jsx)("span",{className:"info-box-icon",children:Object(b.jsx)(w.a,{children:Object(b.jsx)("div",{className:"text-center position-relative thumbnail-product",children:Object(b.jsx)("img",{src:""!==e.products_thumbnail?e.products_thumbnail:"/images/no-image.png",alt:e.products_name})})})}),Object(b.jsxs)("div",{className:"info-box-content",children:[Object(b.jsx)("span",{className:"info-box-text text-md",children:e.products_name+(""!==e.products_subType&&"-"!==e.products_subType?" ("+e.products_subType+")":"")}),Object(b.jsxs)("span",{className:"info-box-number text-lg",children:[e.products_price," \u0e3f"]})]}),Object(b.jsx)("div",{className:"info-box-content",children:Object(b.jsxs)("span",{className:"info-box-text text-xl text-right",children:["x ",e.qty]})})]},e.products_id)})):"\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"})})]})})]})},C=function(){return Object(a.useContext)(m).currentUser?Object(b.jsx)(l.a,{to:"/dashboard"}):Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"container mt-5",children:[Object(b.jsx)("h1",{children:"Log In"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements,c=t.email,a=t.password;try{d.a.auth().signInWithEmailAndPassword(c.value,a.value)}catch(s){alert(s)}},children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(b.jsx)("input",{type:"email",name:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(b.jsx)("input",{type:"password",name:"password",className:"form-control",id:"exampleInputPassword1"})]}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})},_=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),c=t[0],s=t[1];return c?Object(b.jsx)(l.a,{to:"/dashboard"}):Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"container mt-5",children:[Object(b.jsx)("h1",{children:"Sign Up"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements,c=t.email,a=t.password;try{console.log(c.value),d.a.auth().createUserWithEmailAndPassword(c.value,a.value),s(!0)}catch(n){alert(n)}},children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(b.jsx)("input",{type:"email",name:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"}),Object(b.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(b.jsx)("input",{type:"password",name:"password",className:"form-control",id:"exampleInputPassword1"})]}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})},I=c(8),P=c(46),D=c.n(P),T=D.a.mixin({icon:"success",title:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08.",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,padding:"5px 10px",showClass:{popup:"animate__animated animate__fadeInRightBig"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}),L=D.a.mixin({title:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e17\u0e33\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23",text:"",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",confirmButtonText:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19",reverseButtons:!0}),E=D.a.mixin({title:"\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14",text:"",allowOutsideClick:!1}),F=c(155);function B(e){var t=e.tableName,c=e.orderBy,a=void 0===c?"name":c,n=e.headerList,r=e.bodyList,l=e.actionLinkCreate,d=void 0===l?"":l,m=e.actLinkEdit,u=void 0===m?"":m,h=s.a.useState([]),x=Object(o.a)(h,2),O=x[0],p=x[1],v=s.a.useState(0),f=Object(o.a)(v,2),y=f[0],S=f[1],k=s.a.useState(""),C=Object(o.a)(k,2),_=C[0],P=C[1],D=s.a.useState(0),T=Object(o.a)(D,2),B=T[0],U=T[1],Y=s.a.useState(new Map),M=Object(o.a)(Y,2),A=M[0],q=M[1],W=s.a.useState(10),G=Object(o.a)(W,2),R=G[0],z=G[1],H=j.collection(t);s.a.useEffect((function(){function e(){return(e=Object(g.a)(N.a.mark((function e(){var t,c,s,n,r,i,l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=H.orderBy(a),c={},s=0,n=0;case 4:return r=0!==Object.keys(c).length?t.startAfter(c):t,e.next=8,r.limit(R).get();case 8:if(i=e.sent,l=i.size,!i.empty&&0!==l){e.next=12;break}return e.abrupt("break",19);case 12:0===n&&p(i.docs.map((function(e){return Object(I.a)(Object(I.a)({},e.data()),{},{id:e.id})}))),s+=l,c=i.docs[l-1],A.set(++n,c),q(A),e.next=4;break;case 19:S(s);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log("init ".concat(t," ").concat(a)),A.set(0,""),function(){e.apply(this,arguments)}(),function(){p([])}}),[]);return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{className:"content",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsxs)("div",{className:"card-header",children:[Object(b.jsx)("div",{className:"card-title",children:Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),console.log("searchProduct");var t=_;H.orderBy(a).startAt(t).endAt(t+"\uf8ff").get().then((function(e){e.empty?E.fire("\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"):(p(e.docs.map((function(e){return Object(I.a)(Object(I.a)({},e.data()),{},{id:e.id})}))),S(e.size))}))},children:Object(b.jsxs)("div",{className:"input-group input-group-sm",style:{width:150},children:[Object(b.jsx)("input",{type:"text",name:"queryName",className:"form-control",placeholder:"Search",onChange:function(e){P(e.target.value)}}),Object(b.jsx)("div",{className:"input-group-append",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-default",children:Object(b.jsx)("i",{className:"fas fa-search"})})})]})})}),Object(b.jsx)("div",{className:"card-tools",children:Object(b.jsx)(i.b,{to:d,className:"btn btn-warning float-right d-inline",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21"})})]}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("div",{className:" table-responsive p-0",children:Object(b.jsxs)("table",{className:"table table-hover text-nowrap",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[n?n.map((function(e,t){return Object(b.jsx)("th",{children:e},t)})):"",Object(b.jsx)("th",{width:"1",className:"text-center",children:"Action"})]})}),Object(b.jsx)("tbody",{children:O?O.map((function(e){return Object(b.jsxs)("tr",{children:[r?r.map((function(t,c){var a=e[t]+"";return a.startsWith("http")||3===c&&""===a?Object(b.jsx)("td",{className:"align-middle",children:Object(b.jsx)(w.a,{children:Object(b.jsx)("div",{className:"text-center position-relative thumbnail-product",children:Object(b.jsx)("img",{src:""!==a?a:"/images/no-image.png",alt:""})})})},c):Object(b.jsx)("td",{className:"align-middle",children:a},c)})):"",Object(b.jsxs)("td",{className:"align-middle",children:[Object(b.jsx)(i.b,{to:"".concat(u,"/").concat(e.id),className:"btn btn-primary mr-2",children:Object(b.jsx)("i",{className:"fas fa-edit"})}),Object(b.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return t=e.id,void L.fire({title:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a"}).then((function(e){e.value&&H.doc(t).delete().then((function(e){p(O.filter((function(e){return e.id!==t}))),S(y-1)}))}));var t},children:Object(b.jsx)("i",{className:"fas fa-trash"})})]})]},e.id)})):""})]})}),Object(b.jsx)(F.a,{component:"div",count:y,page:B,onPageChange:function(e,t){var c=A.get(t);H.orderBy(a).startAfter(c).limit(R).get().then((function(e){e.empty||(p(e.docs.map((function(e){return Object(I.a)(Object(I.a)({},e.data()),{},{id:e.id})}))),U(t))}))},rowsPerPage:R,onRowsPerPageChange:function(e){console.log("handleChangeRowsPerPage"),z(e.target.value)}})]})]})})})})})})}function U(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("section",{className:"content-header",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row mb-2",children:Object(b.jsx)("div",{className:"col-sm-6",children:Object(b.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})})})})}),Object(b.jsx)(B,{tableName:"tbUsers",headerList:["\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"],bodyList:["name"],actionLinkCreate:"manageuser/create",actLinkEdit:"manageuser"})]})}var Y=c(26),M=c.n(Y);function A(e){var t=Object(l.g)(),c=Object(a.useState)({id:"",name:""}),s=Object(o.a)(c,2),n=s[0],r=s[1],d=j.collection("tbUsers");Object(a.useEffect)((function(){e.match.params.id&&d.doc(e.match.params.id).get().then((function(t){r(Object(I.a)(Object(I.a)({},t.data()),{},{id:e.match.params.id}))}))}),[]);return Object(b.jsxs)("div",{children:[Object(b.jsx)("section",{className:"content-header",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row mb-2",children:Object(b.jsx)("div",{className:"col-sm-6",children:Object(b.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})})})})}),Object(b.jsx)("section",{className:"content",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("div",{className:"card card-outline card-primary",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("div",{className:"card-title",children:Object(b.jsx)("h3",{className:"card-title",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})})}),Object(b.jsx)("div",{className:"card-body table-responsive p-0",children:Object(b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""!==n.id){var c={name:n.name,updateDate:M()().format()};d.doc(n.id).update(c),t.push("/manageuser")}else{var a={name:n.name,createDate:M()().format(),isactive:1};d.add(a),t.push("/manageuser")}},children:[Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"name",children:"\u0e0a\u0e37\u0e48\u0e2d"}),Object(b.jsx)("input",{type:"name",className:"form-control",id:"name",placeholder:"\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32",value:n.name,onChange:function(e){r(Object(I.a)(Object(I.a)({},n),{},{name:e.target.value}))}})]})}),Object(b.jsxs)("div",{className:"card-footer",children:[Object(b.jsx)(i.b,{to:"/manageuser",className:"btn btn-danger mr-2",children:"Back"}),Object(b.jsx)("div",{className:"float-right",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})]})})]})})})})})]})}function q(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("section",{className:"content-header",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row mb-2",children:Object(b.jsx)("div",{className:"col-sm-6",children:Object(b.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})})})})}),Object(b.jsx)(B,{tableName:"tbProducts",headerList:["\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32","\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17","\u0e23\u0e32\u0e04\u0e32","\u0e23\u0e39\u0e1b"],bodyList:["name","subType","price","thumbnail"],actionLinkCreate:"manageproduct/create",actLinkEdit:"manageproduct"})]})}var W=c(156);function G(e){var t=e.thumbnail,c=e.setIsLoaded,a=e.onThumbnailChange;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"text-center position-relative",style:{width:"150px",height:"150px",border:"1px dashed rgb(182 186 189)",cursor:"pointer"},children:[Object(b.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];if(void 0!==t){c(!0);var s=d.a.storage().ref("images/").child(Object(W.a)()+"."+t.name.split(".").pop());s.put(t).then((function(){s.getDownloadURL().then((function(e){a(e),c(!1)}))}))}},className:"custom-file-input h-100"}),t&&Object(b.jsx)("button",{style:{position:"absolute",top:0,right:0,width:20,border:0,background:"transparent",zIndex:3},onMouseDown:function(e){a("")},children:"X"}),Object(b.jsx)("img",{src:t,className:"w-100 position-absolute",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",height:"100%"},alt:""}),!t&&Object(b.jsx)("i",{className:"fas fa-plus position-absolute",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})]})})}function R(e){var t=Object(l.g)(),c=Object(a.useState)(!1),s=Object(o.a)(c,2),n=s[0],r=s[1],d=Object(a.useState)({id:"",name:"",subType:"",price:"",thumbnail:""}),m=Object(o.a)(d,2),u=m[0],h=m[1],x=j.collection("tbProducts");Object(a.useEffect)((function(){e.match.params.id&&x.doc(e.match.params.id).get().then((function(t){h(Object(I.a)(Object(I.a)({},t.data()),{},{id:e.match.params.id}))}))}),[]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("section",{className:"content-header",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row mb-2",children:Object(b.jsx)("div",{className:"col-sm-6",children:Object(b.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})})})})}),Object(b.jsx)("section",{className:"content",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("div",{className:"card card-outline card-primary",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("div",{className:"card-title",children:Object(b.jsx)("h3",{className:"card-title",children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})})}),Object(b.jsx)("div",{className:"card-body table-responsive p-0",children:Object(b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""!==u.id){var c={name:u.name,subType:u.subType,price:parseInt(u.price),thumbnail:u.thumbnail,updateDate:M()().format()};x.doc(u.id).update(c),t.push("/manageproduct")}else{var a={name:u.name,subType:u.subType,price:parseInt(u.price),thumbnail:u.thumbnail,createDate:M()().format(),isactive:1};x.add(a),t.push("/manageproduct")}},children:[Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"name",children:"\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",value:u.name,onChange:function(e){h(Object(I.a)(Object(I.a)({},u),{},{name:e.target.value}))}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"subType",children:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"subType",placeholder:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17",value:u.subType,onChange:function(e){h(Object(I.a)(Object(I.a)({},u),{},{subType:e.target.value}))}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"price",children:"\u0e23\u0e32\u0e04\u0e32"}),Object(b.jsx)("input",{type:"number",min:"1",className:"form-control",id:"price",placeholder:"\u0e23\u0e32\u0e04\u0e32",value:u.price,onChange:function(e){h(Object(I.a)(Object(I.a)({},u),{},{price:e.target.value}))}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"image",children:"\u0e23\u0e39\u0e1b\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),Object(b.jsx)(G,{thumbnail:u.thumbnail,setIsLoaded:r,onThumbnailChange:function(e){h(Object(I.a)(Object(I.a)({},u),{},{thumbnail:e}))}})]})]}),Object(b.jsxs)("div",{className:"card-footer",children:[Object(b.jsx)(i.b,{to:"/manageproduct",className:"btn btn-danger mr-2",children:"Back"}),Object(b.jsx)("div",{className:"float-right",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:n?"disabled":"",children:n?" \u2022 \u2022 \u2022 ":"Submit"})})]})]})})]})})})})})]})}function z(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("section",{className:"content-header",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row mb-2",children:Object(b.jsx)("div",{className:"col-sm-6",children:Object(b.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"})})})})}),Object(b.jsx)(B,{tableName:"tbOrderSchedules",orderBy:"users_name",headerList:["\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32","\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07","\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07","\u0e23\u0e32\u0e04\u0e32"],bodyList:["users_name","schedule","delivery","totalPrice"],actionLinkCreate:"manageorder-schedule/create",actLinkEdit:"manageorder-schedule"})]})}var H=c(15),J=[{value:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8,15",label:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8,15"},{value:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8",label:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8"},{value:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 15",label:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 15"},{value:"\u0e27\u0e31\u0e19\u0e42\u0e01\u0e19",label:"\u0e27\u0e31\u0e19\u0e42\u0e01\u0e19"},{value:"\u0e27\u0e31\u0e19\u0e1e\u0e24\u0e2b\u0e31\u0e2a",label:"\u0e27\u0e31\u0e19\u0e1e\u0e24\u0e2b\u0e31\u0e2a"},{value:"\u0e27\u0e31\u0e19\u0e40\u0e2a\u0e32\u0e23\u0e4c",label:"\u0e27\u0e31\u0e19\u0e40\u0e2a\u0e32\u0e23\u0e4c"},{value:"\u0e27\u0e31\u0e19\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c",label:"\u0e27\u0e31\u0e19\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c"},{value:"\u0e27\u0e31\u0e19\u0e2b\u0e27\u0e22\u0e2d\u0e2d\u0e01",label:"\u0e27\u0e31\u0e19\u0e2b\u0e27\u0e22\u0e2d\u0e2d\u0e01"}],K=[{value:"\u0e44\u0e1b\u0e2a\u0e48\u0e07\u0e17\u0e35\u0e48\u0e1a\u0e49\u0e32\u0e19",label:"\u0e44\u0e1b\u0e2a\u0e48\u0e07\u0e17\u0e35\u0e48\u0e1a\u0e49\u0e32\u0e19"},{value:"\u0e21\u0e32\u0e40\u0e2d\u0e32\u0e17\u0e35\u0e48\u0e15\u0e25\u0e32\u0e14",label:"\u0e21\u0e32\u0e40\u0e2d\u0e32\u0e17\u0e35\u0e48\u0e15\u0e25\u0e32\u0e14"}];function Q(e){var t=Object(l.g)(),c=Object(a.useState)({users_id:"",users_name:"",schedule:"",delivery:"",remark:"",orderScheduleItems:[{products_id:"",qty:""}],totalPrice:""}),s=Object(o.a)(c,2),n=s[0],r=s[1],d=Object(a.useState)([]),m=Object(o.a)(d,2),u=m[0],h=m[1],x=Object(a.useState)([]),O=Object(o.a)(x,2),p=O[0],v=O[1],f=Object(a.useState)([]),w=Object(o.a)(f,2),S=w[0],k=w[1],C=j.collection("tbOrderSchedules"),_=j.collection("tbProducts"),P=j.collection("tbUsers");Object(a.useEffect)((function(){function t(){return(t=Object(g.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.orderBy("name").get();case 2:t=e.sent,h(t.docs.map((function(e){return{value:e.id,label:e.data().name}})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=Object(g.a)(N.a.mark((function e(){var t,c,a,s,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.orderBy("name").get();case 2:t=e.sent,c=t.docs.map((function(e){return{value:e.id,label:e.data().name+(""!==e.data().subType?"("+e.data().subType+")":"")+" "+e.data().price+"\u0e3f",price:e.data().price,nameGroup:e.data().name,products:{products_name:e.data().name,products_price:e.data().price,products_subType:e.data().subType,products_thumbnail:e.data().thumbnail}}})),k(c),a=c.map((function(e){return e.nameGroup})),s=Object(H.a)(new Set(a)),console.log(c),n=s.sort((function(e,t){return e-t})).map((function(e){return{label:e,options:c.filter((function(t){return t.nameGroup===e}))}})),console.log(n),v(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){c.apply(this,arguments)}(),e.match.params.id&&C.doc(e.match.params.id).get().then((function(t){r(Object(I.a)(Object(I.a)({},t.data()),{},{id:e.match.params.id}))})),function(){r({})}}),[e.match.params.id]);var D=function(){var e=Object(g.a)(N.a.mark((function e(c){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("submit"),c.preventDefault(),n.orderScheduleItems=n.orderScheduleItems.filter((function(e){return""!==e.products_id})),console.log(n),""!==n.id?(C.doc(n.id).set(Object(I.a)(Object(I.a)({},n),{},{updateDate:M()().format()}),{merge:!0}),t.push("/manageorder-schedule")):(C.doc().set(n,{merge:!0}),t.push("/manageorder-schedule"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(e,t){if(0===Object.keys(t).length){var c=Object(H.a)(n.orderScheduleItems);c.splice(e,1),r(Object(I.a)(Object(I.a)({},n),{},{orderScheduleItems:c}))}else{var a=Object(H.a)(n.orderScheduleItems);a[e]=t,r(Object(I.a)(Object(I.a)({},n),{},{orderScheduleItems:a}))}};return Object(b.jsxs)("div",{children:[Object(b.jsx)("section",{className:"content-header",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row mb-2",children:Object(b.jsx)("div",{className:"col-sm-6",children:Object(b.jsx)("h1",{children:"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})})})})}),Object(b.jsx)("section",{className:"content",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("div",{className:"card card-outline card-primary",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("div",{className:"card-title",children:Object(b.jsx)("h3",{className:"card-title",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"})})}),Object(b.jsx)("div",{className:"card-body table-responsive p-0",children:Object(b.jsxs)("form",{onSubmit:D,children:[Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"users_id",children:"\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"}),Object(b.jsx)(y.a,{options:u,id:"users_id",value:u.filter((function(e){return e.value===n.users_id})),onChange:function(e){r(Object(I.a)(Object(I.a)({},n),{},{users_id:e.value,users_name:e.label}))},isSearchable:!1})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"users_id",children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),n.orderScheduleItems.map((function(e,t){return Object(b.jsx)(X,{index:t,orderScheduleItem:e,productDropdownGroup:p,productDropdown:S,onOrderScheduleItemChange:T},t)})),Object(b.jsx)("button",{type:"button",className:"border text-center m-auto d-block px-3 btn btn-primary",onClick:function(){var e=Object(H.a)(n.orderScheduleItems);e.push({products_id:"",qty:""}),r(Object(I.a)(Object(I.a)({},n),{},{orderScheduleItems:e}))},children:"+"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"totalPrice",children:"\u0e23\u0e32\u0e04\u0e32\u0e23\u0e27\u0e21"}),Object(b.jsx)("input",{type:"number",min:"1",className:"form-control",id:"totalPrice",onChange:function(e){r(Object(I.a)(Object(I.a)({},n),{},{totalPrice:e.target.value}))},value:n.totalPrice})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"schedule",children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"}),Object(b.jsx)(y.a,{options:J,id:"schedule",onChange:function(e){r(Object(I.a)(Object(I.a)({},n),{},{schedule:e.value}))},isSearchable:!1,value:J.filter((function(e){return e.value===n.schedule}))})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"delivery",children:"\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"}),Object(b.jsx)(y.a,{options:K,id:"delivery",onChange:function(e){r(Object(I.a)(Object(I.a)({},n),{},{delivery:e.value}))},isSearchable:!1,value:K.filter((function(e){return e.value===n.delivery}))})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"remark",children:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"remark",onChange:function(e){r(Object(I.a)(Object(I.a)({},n),{},{remark:e.target.value}))},value:n.remark})]})]}),Object(b.jsxs)("div",{className:"card-footer",children:[Object(b.jsx)(i.b,{to:"/manageorder-schedule",className:"btn btn-danger mr-2",children:"Back"}),Object(b.jsx)("div",{className:"float-right",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})]})})]})})})})})]})}function X(e){Object(a.useEffect)((function(){n(e.orderScheduleItem)}),[e.orderScheduleItem]);var t=Object(a.useState)({products_id:"",qty:""}),c=Object(o.a)(t,2),s=c[0],n=c[1];return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-8 mb-2 pr-0",children:Object(b.jsx)(y.a,{options:e.productDropdownGroup,id:"products_id",onChange:function(t){n(Object(I.a)(Object(I.a)({},s),{},{products_id:t.value})),e.onOrderScheduleItemChange(e.index,Object(I.a)(Object(I.a)({},s),{},{products_id:t.value},e.productDropdown.filter((function(e){return e.value===t.value}))[0].products))},isSearchable:!1,value:e.productDropdown.filter((function(t){return t.value===e.orderScheduleItem.products_id}))})}),Object(b.jsx)("div",{className:"col-3",children:Object(b.jsx)("input",{type:"number",min:"1",className:"form-control text-right",placeholder:"\u0e08\u0e33\u0e19\u0e27\u0e19",onChange:function(t){n(Object(I.a)(Object(I.a)({},s),{},{qty:t.target.value})),e.onOrderScheduleItemChange(e.index,Object(I.a)(Object(I.a)({},s),{},{qty:t.target.value}))},value:e.orderScheduleItem.qty,pattern:"[0-9]*|\\s"})}),Object(b.jsx)("div",{className:"col-1 pl-0",children:Object(b.jsx)("div",{className:"btn btn-danger btn-block px-0",onClick:function(t){e.onOrderScheduleItemChange(e.index,{})},children:"X"})})]})})}var V=[{value:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8|\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8,15",label:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8"},{value:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 15|\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8,15",label:"\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 15"},{value:"\u0e27\u0e31\u0e19\u0e42\u0e01\u0e19",label:"\u0e27\u0e31\u0e19\u0e42\u0e01\u0e19"},{value:"\u0e27\u0e31\u0e19\u0e1e\u0e24\u0e2b\u0e31\u0e2a",label:"\u0e27\u0e31\u0e19\u0e1e\u0e24\u0e2b\u0e31\u0e2a"},{value:"\u0e27\u0e31\u0e19\u0e40\u0e2a\u0e32\u0e23\u0e4c",label:"\u0e27\u0e31\u0e19\u0e40\u0e2a\u0e32\u0e23\u0e4c"},{value:"\u0e27\u0e31\u0e19\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c",label:"\u0e27\u0e31\u0e19\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c"},{value:"\u0e27\u0e31\u0e19\u0e2b\u0e27\u0e22\u0e2d\u0e2d\u0e01",label:"\u0e27\u0e31\u0e19\u0e2b\u0e27\u0e22\u0e2d\u0e2d\u0e01"}],$=[{value:"\u0e44\u0e1b\u0e2a\u0e48\u0e07\u0e17\u0e35\u0e48\u0e1a\u0e49\u0e32\u0e19",label:"\u0e44\u0e1b\u0e2a\u0e48\u0e07\u0e17\u0e35\u0e48\u0e1a\u0e49\u0e32\u0e19"},{value:"\u0e21\u0e32\u0e40\u0e2d\u0e32\u0e17\u0e35\u0e48\u0e15\u0e25\u0e32\u0e14",label:"\u0e21\u0e32\u0e40\u0e2d\u0e32\u0e17\u0e35\u0e48\u0e15\u0e25\u0e32\u0e14"}];function Z(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)("\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8|\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8,15"),i=Object(o.a)(r,2),l=i[0],d=i[1],m=Object(a.useState)("\u0e44\u0e1b\u0e2a\u0e48\u0e07\u0e17\u0e35\u0e48\u0e1a\u0e49\u0e32\u0e19"),u=Object(o.a)(m,2),h=u[0],x=u[1],O=s.a.useState(""),p=Object(o.a)(O,2),v=p[0],f=p[1],w=j.collection("tbOrderSchedules");function S(e,t,c){return k.apply(this,arguments)}function k(){return(k=Object(g.a)(N.a.mark((function e(t,c,a){var s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.where("delivery","==",c).where("schedule","in",t.split("|")).get();case 2:s=e.sent,n(s.docs.filter((function(e){var t=e.data(),c=M()(t.deliverTime,"YYYY-MM-DD").format("YYYY-MM-DD")===M()().format("YYYY-MM-DD");return""!==a?-1!==t.users_name.indexOf(a):!c})).map((function(e){var t=e.data();return Object(I.a)(Object(I.a)({},t),{},{id:e.id})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){return S(l,h,""),function(){n([])}}),[l,h]);var C=function(e){n(c.filter((function(t){return t.id!==e}))),T.fire()};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("section",{className:"content-header",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row mb-2",children:Object(b.jsx)("div",{className:"col-sm-6",children:Object(b.jsx)("h1",{children:"\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"})})})})}),Object(b.jsx)("section",{className:"content",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)(y.a,{options:V,id:"schedule",onChange:function(e){d(e.value)},isSearchable:!1,value:V.filter((function(e){return e.value===l}))})}),Object(b.jsx)("div",{className:"col-12 mt-1",children:Object(b.jsx)(y.a,{options:$,id:"delivery",onChange:function(e){x(e.value)},isSearchable:!1,value:$.filter((function(e){return e.value===h}))})}),Object(b.jsx)("div",{className:"col-12 mt-1",children:Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),console.log("searchUser"+v),S(l,h,v)},children:Object(b.jsxs)("div",{className:"input-group",children:[Object(b.jsx)("input",{type:"text",className:"form-control",placeholder:"\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e0a\u0e37\u0e48\u0e2d",onChange:function(e){f(e.target.value)}}),Object(b.jsx)("div",{className:"input-group-append",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-default",children:Object(b.jsx)("i",{className:"fas fa-search"})})})]})})})]}),Object(b.jsx)("div",{className:"row mt-4",children:Object(b.jsx)("div",{className:"col-12 text-right",children:Object(b.jsxs)("span",{className:"text-sm",children:["\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14 ",c.length," \u0e23\u0e32\u0e22\u0e01\u0e32\u0e23"]})})}),Object(b.jsx)("div",{className:"row mt-2",children:Object(b.jsx)("div",{className:"col-12",children:c.length>0?c.map((function(e){return Object(b.jsx)(ee,{item:e,onDeliverClick:C},e.id)})):"\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"})})]})})]})}function ee(e){var t=e.item,c=e.onDeliverClick,a=j.collection("tbOrders"),s=j.collection("tbOrderSchedules");return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"card card-outline card-primary",children:Object(b.jsxs)("div",{className:"card-body p-3",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-8 text-lg text-bold",children:[t.users_name," ",t.id]}),Object(b.jsx)("div",{className:"col-4 text-md text-mute text-right d-table "+("\u0e21\u0e32\u0e40\u0e2d\u0e32\u0e17\u0e35\u0e48\u0e15\u0e25\u0e32\u0e14"===t.delivery?"text-green":"text-red"),children:Object(b.jsx)("div",{className:"d-table-cell align-middle",children:t.delivery})})]}),Object(b.jsx)("div",{className:"row mt-3",children:Object(b.jsx)("div",{className:"col-12",children:t.orderScheduleItems.map((function(e,t){return Object(b.jsxs)("div",{className:"info-box border-0 rounded-0 m-0",children:[Object(b.jsx)("span",{className:"info-box-icon",children:Object(b.jsx)(w.a,{children:Object(b.jsx)("div",{className:"text-center position-relative thumbnail-product",children:Object(b.jsx)("img",{src:""!==e.products_thumbnail?e.products_thumbnail:"/images/no-image.png",alt:e.products_name})})})}),Object(b.jsxs)("div",{className:"info-box-content",children:[Object(b.jsx)("span",{className:"info-box-text text-md",children:e.products_name+(""!==e.products_subType&&"-"!==e.products_subType?" ("+e.products_subType+")":"")}),Object(b.jsxs)("span",{className:"info-box-number text-lg",children:[e.products_price," \u0e3f"]})]}),Object(b.jsx)("div",{className:"info-box-content",children:Object(b.jsxs)("span",{className:"info-box-text text-xl text-right",children:["x ",e.qty]})})]},t)}))})}),t.remark?Object(b.jsx)("div",{className:"row mt-2",children:Object(b.jsxs)("div",{className:"col-12 text-orange text-bold text-lg",children:["\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38: ",t.remark]})}):"",Object(b.jsxs)("div",{className:"row mt-3",children:[Object(b.jsx)("div",{className:"col-6 text-lg d-table",children:Object(b.jsxs)("div",{className:"d-table-cell align-middle",children:["\u0e23\u0e32\u0e04\u0e32\u0e23\u0e27\u0e21 ",Object(b.jsxs)("b",{children:[t.totalPrice," \u0e3f"]})]})}),Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(){L.fire({title:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"}).then((function(e){if(e.value){var n={create_date:M()().format(),isactive:1,orderTypeId:1,orderTypeName:"\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32\u0e1b\u0e23\u0e30\u0e08\u0e33",tbOrderScheduleId:t.id,tbOrderSchedule:t};console.log(n);a.doc(),s.doc(t.id);c(t.id)}}))},children:"\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"})})]})]})})})}var te=function(){var e=Object(a.useState)("\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8|\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8,15"),t=Object(o.a)(e,2),c=t[0],s=(t[1],Object(a.useState)(new Set)),n=Object(o.a)(s,2),r=n[0],i=n[1],l=j.collection("tbOrders");function d(){return(d=Object(g.a)(N.a.mark((function e(t){var c,a,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.where("orderTypeName","==","\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32\u0e1b\u0e23\u0e30\u0e08\u0e33").get();case 2:c=e.sent,a=[],s=0,c.docs.forEach((function(e){""!==e.data().tbOrderSchedule.totalPrice?s+=parseInt(e.data().tbOrderSchedule.totalPrice):console.log(e.id)})),a.push({id:1,totalPrice:s}),i(a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){return function(e){d.apply(this,arguments)}(c),function(){i([])}}),[c]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("section",{className:"content-header",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row mb-2",children:Object(b.jsx)("div",{className:"col-sm-6",children:Object(b.jsx)("h1",{children:"\u0e20\u0e32\u0e1e\u0e23\u0e27\u0e21"})})})})}),Object(b.jsx)("section",{className:"content",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row mt-4",children:Object(b.jsx)("div",{className:"col-12",children:r.length>0?r.map((function(e){return Object(b.jsxs)("div",{className:"info-box border-0 rounded-0 m-0",children:[Object(b.jsxs)("div",{className:"info-box-content",children:[Object(b.jsx)("span",{className:"info-box-text text-md",children:"aa"}),Object(b.jsx)("span",{className:"info-box-number text-lg",children:"aa \u0e3f"})]}),Object(b.jsx)("div",{className:"info-box-content",children:Object(b.jsxs)("span",{className:"info-box-text text-xl text-right",children:["x ",e.totalPrice]})})]},e.id)})):"\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"})})})})]})},ce=c(70),ae=c.n(ce);function se(){var e=Object(a.useState)("\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8|\u0e17\u0e38\u0e01\u0e1e\u0e23\u0e30 8,15"),t=Object(o.a)(e,2),c=t[0],s=(t[1],Object(a.useState)(new Set)),n=Object(o.a)(s,2),r=n[0],i=n[1],l=j.collection("tbOrders");function d(){return(d=Object(g.a)(N.a.mark((function e(t){var c,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.where("orderTypeName","==","\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32\u0e1b\u0e23\u0e30\u0e08\u0e33").get();case 2:c=e.sent,a=[],c.docs.forEach((function(e){var t=e.data(),c=M()(t.create_date,"YYYY-MM-DD").format("MM MMMM");if(a.some((function(e){return e.groupDate===c}))){var s=a.findIndex((function(e){return e.groupDate===c}));""!==t.tbOrderSchedule.totalPrice?a[s].totalPrice=parseInt(a[s].totalPrice)+parseInt(t.tbOrderSchedule.totalPrice):a[s].totalPrice=parseInt(a[s].totalPrice)+.01}else""!==t.tbOrderSchedule.totalPrice&&a.push({groupDate:c,totalPrice:parseInt(t.tbOrderSchedule.totalPrice)})})),console.log(a),i(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){return function(e){d.apply(this,arguments)}(c),function(){i([])}}),[c]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("section",{className:"content-header",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row mb-2",children:Object(b.jsx)("div",{className:"col-sm-6",children:Object(b.jsx)("h1",{children:"\u0e2a\u0e23\u0e38\u0e1b\u0e23\u0e32\u0e22\u0e40\u0e14\u0e37\u0e2d\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"})})})})}),Object(b.jsx)("section",{className:"content",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:r.length>0?r.sort((function(e,t){return e.groupDate.localeCompare(t.groupDate)})).map((function(e){return Object(b.jsxs)("div",{className:"info-box border-0 rounded-0 m-0",children:[Object(b.jsx)("div",{className:"info-box-content",children:Object(b.jsx)("span",{className:"info-box-text text-md",children:e.groupDate})}),Object(b.jsx)("div",{className:"info-box-content",children:Object(b.jsxs)("span",{className:"info-box-text text-xl text-right",children:[ae()(e.totalPrice)," \u0e3f"]})})]},e.groupDate)})):"\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"})})})})]})}function ne(){var e=j.collection("tbOrderSchedules"),t=j.collection("tbProducts");return Object(b.jsxs)("div",{children:[Object(b.jsx)("section",{className:"content-header",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row mb-2",children:Object(b.jsx)("div",{className:"col-sm-6",children:Object(b.jsx)("h1",{children:"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32"})})})})}),Object(b.jsx)("section",{className:"content",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("div",{className:"card-title",children:"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32"})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("button",{className:"btn btn-info",onClick:function(){e.get().then((function(c){c.forEach((function(c){var a=c.data().orderScheduleItems.map(function(){var e=Object(g.a)(N.a.mark((function e(c){var a,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(c.products_id),e.next=3,t.doc(c.products_id).get();case 3:return a=e.sent,s=a.data(),c=Object(I.a)(Object(I.a)({},c),{},{products_name:s.name,products_price:s.price,products_subType:s.subType,products_thumbnail:s.thumbnail}),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Promise.all(a).then((function(t){console.log(c.id," => ",t),e.doc(c.id).set({orderScheduleItems:t},{merge:!0})}))}))}))},value:"Update",children:"\u0e2d\u0e31\u0e1e\u0e40\u0e14\u0e17\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e43\u0e19\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"})})})})]})})})})})]})}function re(){return Object(b.jsx)(u,{children:Object(b.jsxs)(i.a,{children:[Object(b.jsx)(h,{}),Object(b.jsx)(O,{}),Object(b.jsx)(p,{}),Object(b.jsx)("div",{className:"content-wrapper",children:Object(b.jsxs)(l.d,{children:[Object(b.jsx)(l.a,{exact:!0,from:"/",to:"/my-orderschedule"}),Object(b.jsx)(l.b,{exact:!0,path:"/home",component:v}),Object(b.jsx)(l.b,{exact:!0,path:"/dashboard",component:k}),Object(b.jsx)(l.b,{exact:!0,path:"/dashboard-monthly-customer",component:te}),Object(b.jsx)(l.b,{exact:!0,path:"/dashboard-monthly-overall",component:se}),Object(b.jsx)(l.b,{exact:!0,path:"/manageuser",component:U}),Object(b.jsx)(l.b,{exact:!0,path:"/manageuser/create",component:A}),Object(b.jsx)(l.b,{exact:!0,path:"/manageuser/:id",component:A}),Object(b.jsx)(l.b,{exact:!0,path:"/manageproduct",component:q}),Object(b.jsx)(l.b,{exact:!0,path:"/manageproduct/create",component:R}),Object(b.jsx)(l.b,{exact:!0,path:"/manageproduct/:id",component:R}),Object(b.jsx)(l.b,{exact:!0,path:"/manageorder-schedule",component:z}),Object(b.jsx)(l.b,{exact:!0,path:"/my-orderschedule",component:Z}),Object(b.jsx)(l.b,{exact:!0,path:"/manageorder-schedule/create",component:Q}),Object(b.jsx)(l.b,{exact:!0,path:"/manageorder-schedule/:id",component:Q}),Object(b.jsx)(l.b,{exact:!0,path:"/manageconfig",component:ne}),Object(b.jsx)(l.b,{exact:!0,path:"/login",component:C}),Object(b.jsx)(l.b,{exact:!0,path:"/signup",component:_})]})}),Object(b.jsx)(x,{})]})})}var ie=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function le(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var oe=c(72),de=c(73),je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e},be=Object(oe.a)(je),me=function(){return Object(b.jsx)(i.a,{children:Object(b.jsx)(de.a,{store:be,children:Object(b.jsx)(re,{})})})};r.a.render(Object(b.jsx)(me,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");ie?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):le(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):le(e)}))}}()},82:function(e,t,c){}},[[120,1,2]]]);
//# sourceMappingURL=main.64661bd2.chunk.js.map