{"version":3,"sources":["utils/firebase.js","components/pages/authentication/Auth.js","components/_layout/Header.js","components/_layout/Footer.js","components/_layout/MenuTop.js","components/pages/home/Home.js","components/pages/dashboard/Index.js","components/pages/authentication/LogIn.js","components/pages/authentication/SignUp.js","lib/script.js","components/genaral/MyDataTable-v1.js","components/pages/manage-users/Index.js","components/pages/manage-users/Create.js","components/pages/manage-products/Index.js","components/genaral/MyUploadImage-v1.js","components/pages/manage-products/Create.js","components/pages/manage-orderschedule/Index.js","components/pages/manage-orderschedule/Create.js","components/pages/manage-orderschedule/MyOrderSchedule.js","components/pages/manage-config/Index.js","App.js","registerServiceWorker.js","reducers/postReducer.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","db","firestore","AuthContext","React","createContext","AuthProvider","children","useState","loading","setLoading","currentUser","setCurrentUser","useEffect","auth","onAuthStateChanged","user","Provider","value","Header","Footer","Component","MenuTop","useContext","className","to","src","alt","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","activeClassName","onClick","signOut","Home","schedule","label","DashBoard","dataSchedule","setDataSchedule","Set","dataTable","setDataTable","tbOrderSchedules","collection","a","where","split","get","query","result","docs","map","doc","data","orderScheduleItems","forEach","item","some","e","products_id","objIndex","findIndex","obj","qty","parseInt","push","getInit","options","onChange","isSearchable","filter","length","sort","b","products_name","localeCompare","products_thumbnail","products_subType","products_price","LogIn","onSubmit","preventDefault","target","elements","email","password","signInWithEmailAndPassword","error","alert","for","name","aria-describedby","SignUp","console","log","createUserWithEmailAndPassword","SwalToast","Swal","mixin","icon","title","toast","position","showConfirmButton","timer","padding","showClass","popup","hideClass","SwalConfirm","text","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","reverseButtons","SwalAlert","allowOutsideClick","MyDataTable","tableName","orderBy","headerList","bodyList","actionLinkCreate","actLinkEdit","dataCount","setDataCount","search","setSearch","currentPage","setCurrentPage","Map","pageKeyMap","setPageKeyMap","rowsPerPage","setRowsPerPage","tbQuery","lastDoc","count","page","offsetQuery","Object","keys","startAfter","limit","snapshot","size","empty","set","paginatedCount","q","startAt","endAt","then","fire","style","width","placeholder","index","dataValue","startsWith","height","border","cursor","left","top","transform","delete","snap","x","TablePagination","component","onPageChange","key","onRowsPerPageChange","Index","Create","props","history","useHistory","setUser","tbUsers","match","params","model","updateDate","moment","format","update","createDate","isactive","add","htmlFor","MyUploadImage","thumbnail","setIsLoaded","onThumbnailChange","file","files","undefined","fileRef","storage","ref","child","uuidv4","pop","put","getDownloadURL","url","right","background","zIndex","onMouseDown","isLoaded","subType","price","product","setProduct","tbProducts","min","disabled","delivery","users_id","users_name","remark","totalPrice","orderSchedule","setOrderSchedule","userDropdown","setUserDropdown","productDropdownGroup","setProductDropdownGroup","productDropdown","setProductDropdown","productList","nameGroup","products","nameGroupArr","unique","productGroup","getDropDownUsers","getDropDownProducts","save","merge","handleOrderScheduleItemChange","orderScheduleItem","splice","OrderScheduleItemFunc","onOrderScheduleItemChange","setOrderScheduleItem","pattern","event","dataDelivery","setDataDelivery","models","isSameDate","deliverTime","handleDeliverClick","OrderScheduleBox","onDeliverClick","tbOrders","modelOrder","create_date","orderTypeId","orderTypeName","tbOrderScheduleId","tbOrderSchedule","orderItem","Promise","all","results","App","exact","path","ManageOrderScheduleMyOrderSchedule","Dashboard","ManageUser","ManageUserCreate","ManageProduct","ManageProductCreate","ManageOrderSchedule","ManageOrderScheduleCreate","ManageConfig","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","catch","postReducer","store","createStore","AppWithRouter","ReactDOM","render","document","getElementById","URL","process","origin","addEventListener","fetch","response","status","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.d0956d90.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/analytics\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/auth\";\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDNYaKmy4RDoBWWrF56cP2vyBsKsdLLfsc\",\r\n  authDomain: \"gusgus-project.firebaseapp.com\",\r\n  databaseURL:\r\n    \"https://gusgus-project-default-rtdb.asia-southeast1.firebasedatabase.app\",\r\n  projectId: \"gusgus-project\",\r\n  storageBucket: \"gusgus-project.appspot.com\",\r\n  messagingSenderId: \"715385701552\",\r\n  appId: \"1:715385701552:web:1746c7c54cf774a7d52775\",\r\n  measurementId: \"G-3MBP2J073Q\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nfirebase.analytics();\r\n\r\nconst db = firebase.firestore();\r\n\r\nexport { firebase, db };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { firebase } from \"../../../utils/firebase\";\r\n\r\nexport const AuthContext = React.createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      setCurrentUser(user);\r\n      setLoading(false);\r\n    });\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <p>Loading...</p>;\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ currentUser }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n","import React from 'react'\r\n\r\nexport default function Header() {\r\n    return (\r\n        <div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class Footer extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        {/* <footer className=\"main-footer\">\r\n        <div className=\"container\">\r\n          <div className=\"float-right d-none d-sm-inline\">\r\n            Anything you want\r\n          </div>\r\n          <strong>\r\n            Copyright © 2014-2021 <a href=\"https://adminlte.io\">AdminLTE.io</a>.\r\n          </strong>\r\n          All rights reserved.\r\n        </div>\r\n      </footer> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport { AuthContext } from \"../pages/authentication/Auth\";\r\nimport { firebase } from \"../../utils/firebase\";\r\n\r\nexport default function MenuTop() {\r\n  const { currentUser } = useContext(AuthContext);\r\n\r\n  return (\r\n    <div>\r\n      <nav className=\"main-header navbar navbar-expand-md navbar-light navbar-white\">\r\n        <div className=\"container\">\r\n          <Link to=\"/\" className=\"navbar-brand\">\r\n            <img\r\n              className=\"img img-size-32 mx-2\"\r\n              src=\"https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg\"\r\n              alt=\"Workflow\"\r\n            />\r\n            <span className=\"brand-text font-weight-light\">Gusgus</span>\r\n          </Link>\r\n          <button\r\n            className=\"navbar-toggler\"\r\n            type=\"button\"\r\n            data-toggle=\"collapse\"\r\n            data-target=\"#navbarCollapse\"\r\n            aria-controls=\"navbarCollapse\"\r\n            aria-expanded=\"false\"\r\n            aria-label=\"Toggle navigation\"\r\n          >\r\n            <span className=\"navbar-toggler-icon\" />\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarCollapse\">\r\n            {/* Left navbar links */}\r\n            <ul className=\"navbar-nav\">\r\n              <li className=\"nav-item\">\r\n                <NavLink\r\n                  to=\"/manageorder-schedule/my-order\"\r\n                  className=\"nav-link\"\r\n                  activeClassName=\"active\"\r\n                >\r\n                  จัดส่ง\r\n                </NavLink>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <NavLink\r\n                  to=\"/manageorder-schedule\"\r\n                  className=\"nav-link\"\r\n                  activeClassName=\"active\"\r\n                >\r\n                  รายการจัดส่ง\r\n                </NavLink>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <NavLink\r\n                  to=\"/manageuser\"\r\n                  className=\"nav-link\"\r\n                  activeClassName=\"active\"\r\n                >\r\n                  รายชื่อลูกค้า\r\n                </NavLink>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <NavLink\r\n                  to=\"/manageproduct\"\r\n                  className=\"nav-link\"\r\n                  activeClassName=\"active\"\r\n                >\r\n                  รายชื่อสินค้า\r\n                </NavLink>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <NavLink\r\n                  to=\"/dashboard\"\r\n                  className=\"nav-link\"\r\n                  activeClassName=\"active\"\r\n                >\r\n                  ภาพรวม\r\n                </NavLink>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <NavLink\r\n                  to=\"/manageconfig\"\r\n                  className=\"nav-link\"\r\n                  activeClassName=\"active\"\r\n                >\r\n                  ตั้งค่า\r\n                </NavLink>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <ul className=\"order-1 order-md-3 navbar-nav navbar-no-expand ml-auto\">\r\n            <li className=\"nav-item\">\r\n              {currentUser ? (\r\n                <NavLink\r\n                  to=\"/\"\r\n                  onClick={() => firebase.auth().signOut()}\r\n                  className=\"nav-link\"\r\n                  activeClassName=\"active\"\r\n                >\r\n                  Logout\r\n                </NavLink>\r\n              ) : (\r\n                <NavLink to=\"/\" className=\"nav-link\" activeClassName=\"active\">\r\n                  Login\r\n                </NavLink>\r\n              )}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../authentication/Auth\";\r\n\r\nconst Home = () => {\r\n  const { currentUser } = useContext(AuthContext);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container mt-5\">\r\n        <h1>Home</h1>\r\n        {currentUser ? (\r\n          <p>\r\n            You are logged in - <Link to=\"/dashboard\">View Dashboard</Link>\r\n          </p>\r\n        ) : (\r\n          <p>\r\n            <Link to=\"/login\" className=\"btn btn-primary\">\r\n              Log In\r\n            </Link>{\" \"}\r\n            or{\" \"}\r\n            <Link to=\"/signup\" className=\"btn btn-success\">\r\n              Sign Up\r\n            </Link>\r\n          </p>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { db } from \"../../../utils/firebase\";\r\nimport moment from \"moment\";\r\nimport Select from \"react-select\";\r\nimport { AuthContext } from \"../authentication/Auth\";\r\nimport { firebase } from \"../../../utils/firebase\";\r\n\r\nconst schedule = [\r\n  { value: \"ทุกพระ 8|ทุกพระ 8,15\", label: \"ทุกพระ 8\" },\r\n  { value: \"ทุกพระ 15|ทุกพระ 8,15\", label: \"ทุกพระ 15\" },\r\n  { value: \"วันโกน\", label: \"วันโกน\" },\r\n  { value: \"วันพฤหัส\", label: \"วันพฤหัส\" },\r\n  { value: \"วันอาทิตย์\", label: \"วันอาทิตย์\" },\r\n];\r\n\r\nconst DashBoard = () => {\r\n  const [dataSchedule, setDataSchedule] = useState(\"ทุกพระ 8|ทุกพระ 8,15\");\r\n  const [dataTable, setDataTable] = useState(new Set());\r\n\r\n  const tbOrderSchedules = db.collection(\"tbOrderSchedules\");\r\n\r\n  useEffect(() => {\r\n    getInit(dataSchedule);\r\n    return () => {\r\n      setDataTable([]);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [dataSchedule]);\r\n\r\n  async function getInit(dataSchedule) {\r\n    const query = await tbOrderSchedules\r\n      .where(\"schedule\", \"in\", dataSchedule.split(\"|\"))\r\n      .get();\r\n    var result = [];\r\n    query.docs.map((doc) => {\r\n      var models = doc.data().orderScheduleItems;\r\n\r\n      models.forEach((item) => {\r\n        if (!result.some((e) => e.products_id === item.products_id)) {\r\n          result.push(item);\r\n        } else {\r\n          const objIndex = result.findIndex(\r\n            (obj) => obj.products_id === item.products_id\r\n          );\r\n          result[objIndex].qty =\r\n            parseInt(result[objIndex].qty) + parseInt(item.qty);\r\n        }\r\n      });\r\n    });\r\n    setDataTable(result);\r\n  }\r\n  return (\r\n    <>\r\n      <section className=\"content-header\">\r\n        <div className=\"container\">\r\n          <div className=\"row mb-2\">\r\n            <div className=\"col-sm-6\">\r\n              <h1>แดชบอร์ด</h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"content\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <Select\r\n                options={schedule}\r\n                id=\"schedule\"\r\n                onChange={(e) => {\r\n                  setDataSchedule(e.value);\r\n                }}\r\n                isSearchable={false}\r\n                value={schedule.filter(\r\n                  (options) => options.value === dataSchedule\r\n                )}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row mt-4\">\r\n            <div className=\"col-12\">\r\n              {dataTable.length > 0\r\n                ? dataTable\r\n                    .sort((a, b) =>\r\n                      a.products_name.localeCompare(b.products_name)\r\n                    )\r\n                    .map((item) => (\r\n                      <div\r\n                        className=\"info-box border-0 rounded-0 m-0\"\r\n                        key={item.products_id}\r\n                      >\r\n                        <span className=\"info-box-icon\">\r\n                          <img\r\n                            src={\r\n                              item.products_thumbnail !== \"\"\r\n                                ? item.products_thumbnail\r\n                                : \"/images/no-image.png\"\r\n                            }\r\n                            alt={item.products_name}\r\n                          />\r\n                        </span>\r\n                        <div className=\"info-box-content\">\r\n                          <span className=\"info-box-text text-md\">\r\n                            {item.products_name +\r\n                              (item.products_subType !== \"\" &&\r\n                              item.products_subType !== \"-\"\r\n                                ? \" (\" + item.products_subType + \")\"\r\n                                : \"\")}\r\n                          </span>\r\n                          <span className=\"info-box-number text-lg\">\r\n                            {item.products_price} ฿\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"info-box-content\">\r\n                          <span className=\"info-box-text text-xl text-right\">\r\n                            x {item.qty}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    ))\r\n                : \"ไม่พบข้อมูล\"}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DashBoard;\r\n","import React, { useContext } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { AuthContext } from \"./Auth\";\r\nimport { firebase } from \"../../../utils/firebase\";\r\n\r\nconst LogIn = () => {\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { email, password } = e.target.elements;\r\n\r\n    try {\r\n      firebase.auth().signInWithEmailAndPassword(email.value, password.value);\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  };\r\n\r\n  const { currentUser } = useContext(AuthContext);\r\n  if (currentUser) {\r\n    return <Redirect to=\"/dashboard\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container mt-5\">\r\n        <h1>Log In</h1>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mb-3\">\r\n            <label for=\"exampleInputEmail1\" className=\"form-label\">\r\n              Email address\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              className=\"form-control\"\r\n              id=\"exampleInputEmail1\"\r\n              aria-describedby=\"emailHelp\"\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label for=\"exampleInputPassword1\" className=\"form-label\">\r\n              Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              className=\"form-control\"\r\n              id=\"exampleInputPassword1\"\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            Submit\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LogIn;\r\n","import React, { useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { firebase } from \"../../../utils/firebase\";\r\n\r\nconst SignUp = () => {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { email, password } = e.target.elements;\r\n\r\n    try {\r\n      console.log(email.value);\r\n      firebase\r\n        .auth()\r\n        .createUserWithEmailAndPassword(email.value, password.value);\r\n      setCurrentUser(true);\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  };\r\n\r\n  if (currentUser) {\r\n    return <Redirect to=\"/dashboard\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container mt-5\">\r\n        <h1>Sign Up</h1>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mb-3\">\r\n            <label for=\"exampleInputEmail1\" className=\"form-label\">\r\n              Email address\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              className=\"form-control\"\r\n              id=\"exampleInputEmail1\"\r\n              aria-describedby=\"emailHelp\"\r\n            />\r\n            <div id=\"emailHelp\" className=\"form-text\">\r\n              We'll never share your email with anyone else.\r\n            </div>\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label for=\"exampleInputPassword1\" className=\"form-label\">\r\n              Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              className=\"form-control\"\r\n              id=\"exampleInputPassword1\"\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            Submit\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import Swal from \"sweetalert2\";\r\n\r\nconst SwalToast = Swal.mixin({\r\n  icon: \"success\",\r\n  title: \"บันทึกสำเร็จ.\",\r\n  toast: true,\r\n  position: \"top-end\",\r\n  showConfirmButton: false,\r\n  timer: 3000,\r\n  padding: \"5px 10px\",\r\n  showClass: {\r\n    popup: \"animate__animated animate__fadeInRightBig\",\r\n  },\r\n  hideClass: {\r\n    popup: \"animate__animated animate__fadeOutUp\",\r\n  },\r\n});\r\n\r\n// var Toast;\r\n// const SwalToast = Swal.mixin({\r\n//   icon: \"success\",\r\n//   title: \"บันทึกสำเร็จ.\",\r\n//   toast: true,\r\n//   position: \"top-end\",\r\n//   showConfirmButton: false,\r\n//   timer: 500000,\r\n//   timerProgressBar: true,\r\n//   didOpen: (toast) => {\r\n//     toast.addEventListener(\"mousedown\", function (e) {\r\n//       if (e.target && document.querySelectorAll(\".swal2-popup\").length) {\r\n//         var $toast = document.querySelectorAll(\".swal2-popup\");\r\n//         var toast = $toast[0].M_Toast;\r\n//         toast.panning = true;\r\n//         Toast = toast;\r\n//         toast.el.classList.add(\"panning\");\r\n//         toast.el.style.transition = \"\";\r\n//         toast.startingXPos = Toast._xPos(e);\r\n//         toast.time = Date.now();\r\n//         toast.xPos = Toast._xPos(e);\r\n//       }\r\n//     });\r\n//     toast.addEventListener(\"mousemove\", function (e) {\r\n//       if (!!Toast) {\r\n//         e.preventDefault();\r\n//         var toast = Toast;\r\n//         toast.deltaX = Math.abs(toast.xPos - Toast._xPos(e));\r\n//         toast.xPos = Toast._xPos(e);\r\n//         toast.velocityX = toast.deltaX / (Date.now() - toast.time);\r\n//         toast.time = Date.now();\r\n\r\n//         var totalDeltaX = toast.xPos - toast.startingXPos;\r\n//         var activationDistance =\r\n//           toast.el.offsetWidth * toast.options.activationPercent;\r\n//         toast.el.style.transform = \"translateX(\" + totalDeltaX + \"px)\";\r\n//         toast.el.style.opacity = 1 - Math.abs(totalDeltaX / activationDistance);\r\n//       }\r\n//     });\r\n//     toast.addEventListener(\"mouseup\", function (e) {\r\n//       if (!!Toast) {\r\n//         var toast = Toast;\r\n//         toast.panning = false;\r\n//         toast.el.classList.remove(\"panning\");\r\n\r\n//         var totalDeltaX = toast.xPos - toast.startingXPos;\r\n//         var activationDistance =\r\n//           toast.el.offsetWidth * toast.options.activationPercent;\r\n//         var shouldBeDismissed =\r\n//           Math.abs(totalDeltaX) > activationDistance || toast.velocityX > 1;\r\n\r\n//         // Remove toast\r\n//         if (shouldBeDismissed) {\r\n//           toast.wasSwiped = true;\r\n//           toast.dismiss();\r\n\r\n//           // Animate toast back to original position\r\n//         } else {\r\n//           toast.el.style.transition = \"transform .2s, opacity .2s\";\r\n//           toast.el.style.transform = \"\";\r\n//           toast.el.style.opacity = \"\";\r\n//         }\r\n//         Toast = null;\r\n//       }\r\n//     });\r\n//     //toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\r\n//   },\r\n//   padding: \"5px 10px\",\r\n//   hideClass: {\r\n//     popup: \"animate__animated animate__fadeOutUp\",\r\n//   },\r\n// });\r\n\r\nconst SwalConfirm = Swal.mixin({\r\n  title: \"ยืนยันการทำรายการ\",\r\n  text: \"\",\r\n  showCancelButton: true,\r\n  confirmButtonColor: \"#3085d6\",\r\n  cancelButtonColor: \"#d33\",\r\n  cancelButtonText: \"ยกเลิก\",\r\n  confirmButtonText: \"ยืนยัน\",\r\n  reverseButtons: true,\r\n});\r\n\r\nconst SwalAlert = Swal.mixin({\r\n  title: \"ผิดพลาด\",\r\n  text: \"\",\r\n  allowOutsideClick: false,\r\n});\r\n\r\nexport { SwalToast, SwalConfirm, SwalAlert };\r\n","import React from \"react\";\r\nimport { SwalAlert, SwalConfirm } from \"../../lib/script\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { db } from \"../../utils/firebase\";\r\nimport { TablePagination } from \"@mui/material\";\r\n\r\nexport default function MyDataTable({\r\n  tableName,\r\n  orderBy = \"name\",\r\n  headerList,\r\n  bodyList,\r\n  actionLinkCreate = \"\",\r\n  actLinkEdit = \"\",\r\n}) {\r\n  const [dataTable, setDataTable] = React.useState([]);\r\n  const [dataCount, setDataCount] = React.useState(0);\r\n  const [search, setSearch] = React.useState(\"\");\r\n\r\n  const [currentPage, setCurrentPage] = React.useState(0);\r\n  const [pageKeyMap, setPageKeyMap] = React.useState(new Map());\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n\r\n  const tbQuery = db.collection(tableName);\r\n\r\n  React.useEffect(() => {\r\n    console.log(`init ${tableName} ${orderBy}`);\r\n    pageKeyMap.set(0, \"\");\r\n    async function paginatedCount() {\r\n      const query = tbQuery.orderBy(orderBy);\r\n\r\n      let lastDoc = {};\r\n      let count = 0;\r\n      let page = 0;\r\n      while (true) {\r\n        const offsetQuery =\r\n          Object.keys(lastDoc).length !== 0 ? query.startAfter(lastDoc) : query;\r\n\r\n        const snapshot = await offsetQuery.limit(rowsPerPage).get();\r\n        const size = snapshot.size;\r\n\r\n        if (snapshot.empty || size === 0) break;\r\n\r\n        if (page === 0) {\r\n          setDataTable(\r\n            snapshot.docs.map((doc) => ({\r\n              ...doc.data(),\r\n              id: doc.id,\r\n            }))\r\n          );\r\n        }\r\n        count += size;\r\n        lastDoc = snapshot.docs[size - 1];\r\n        pageKeyMap.set(++page, lastDoc);\r\n        setPageKeyMap(pageKeyMap);\r\n      }\r\n\r\n      setDataCount(count);\r\n    }\r\n    paginatedCount();\r\n    return () => {\r\n      setDataTable([]); // This worked for me\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleOnChange = (e) => {\r\n    setSearch(e.target.value);\r\n  };\r\n\r\n  const searchProduct = (e) => {\r\n    e.preventDefault();\r\n    console.log(\"searchProduct\");\r\n    var q = search;\r\n    tbQuery\r\n      .orderBy(orderBy)\r\n      .startAt(q)\r\n      .endAt(q + \"\\uf8ff\")\r\n      .get()\r\n      .then((snapshot) => {\r\n        if (!snapshot.empty) {\r\n          setDataTable(\r\n            snapshot.docs.map((doc) => ({\r\n              ...doc.data(),\r\n              id: doc.id,\r\n            }))\r\n          );\r\n          setDataCount(snapshot.size);\r\n        } else {\r\n          SwalAlert.fire(\"ไม่พบข้อมูล\");\r\n        }\r\n      });\r\n  };\r\n\r\n  const delProduct = (id) => {\r\n    SwalConfirm.fire({\r\n      title: \"ยืนยันการลบ\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        tbQuery\r\n          .doc(id)\r\n          .delete()\r\n          .then((snap) => {\r\n            setDataTable(dataTable.filter((x) => x.id !== id));\r\n            setDataCount(dataCount - 1);\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleChangePage = (e, page) => {\r\n    const key = pageKeyMap.get(page);\r\n    tbQuery\r\n      .orderBy(orderBy)\r\n      .startAfter(key)\r\n      .limit(rowsPerPage)\r\n      .get()\r\n      .then((snapshot) => {\r\n        if (!snapshot.empty) {\r\n          setDataTable(\r\n            snapshot.docs.map((doc) => ({\r\n              ...doc.data(),\r\n              id: doc.id,\r\n            }))\r\n          );\r\n          setCurrentPage(page);\r\n        }\r\n      });\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (e) => {\r\n    console.log(\"handleChangeRowsPerPage\");\r\n    setRowsPerPage(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <section className=\"content\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                  <div className=\"card-title\">\r\n                    <form onSubmit={searchProduct}>\r\n                      <div\r\n                        className=\"input-group input-group-sm\"\r\n                        style={{ width: 150 }}\r\n                      >\r\n                        <input\r\n                          type=\"text\"\r\n                          name=\"queryName\"\r\n                          className=\"form-control\"\r\n                          placeholder=\"Search\"\r\n                          onChange={handleOnChange}\r\n                        />\r\n                        <div className=\"input-group-append\">\r\n                          <button type=\"submit\" className=\"btn btn-default\">\r\n                            <i className=\"fas fa-search\" />\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                  <div className=\"card-tools\">\r\n                    <Link\r\n                      to={actionLinkCreate}\r\n                      className=\"btn btn-warning float-right d-inline\"\r\n                    >\r\n                      เพิ่ม\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <div className=\" table-responsive p-0\">\r\n                    <table className=\"table table-hover text-nowrap\">\r\n                      <thead>\r\n                        <tr>\r\n                          {headerList\r\n                            ? headerList.map((value, index) => (\r\n                                <th key={index}>{value}</th>\r\n                              ))\r\n                            : \"\"}\r\n                          <th width=\"1\" className=\"text-center\">\r\n                            Action\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {dataTable\r\n                          ? dataTable.map((item) => (\r\n                              <tr key={item.id}>\r\n                                {bodyList\r\n                                  ? bodyList.map((value, index) => {\r\n                                      const dataValue = item[value] + \"\";\r\n                                      if (!dataValue.startsWith(\"http\")) {\r\n                                        // normal case\r\n                                        return (\r\n                                          <td\r\n                                            key={index}\r\n                                            className=\"align-middle\"\r\n                                          >\r\n                                            {dataValue}\r\n                                          </td>\r\n                                        );\r\n                                      } else {\r\n                                        // img case\r\n                                        return (\r\n                                          <td\r\n                                            key={index}\r\n                                            className=\"align-middle\"\r\n                                          >\r\n                                            <div\r\n                                              className=\"text-center position-relative\"\r\n                                              style={{\r\n                                                width: \"60px\",\r\n                                                height: \"60px\",\r\n                                                border:\r\n                                                  \"1px dashed rgb(182 186 189)\",\r\n                                                cursor: \"pointer\",\r\n                                              }}\r\n                                            >\r\n                                              <img\r\n                                                src={dataValue}\r\n                                                className=\"w-100 position-absolute\"\r\n                                                style={{\r\n                                                  left: \"50%\",\r\n                                                  top: \"50%\",\r\n                                                  transform:\r\n                                                    \"translate(-50%, -50%)\",\r\n                                                }}\r\n                                                alt=\"\"\r\n                                              />\r\n                                            </div>\r\n                                          </td>\r\n                                        );\r\n                                      }\r\n                                    })\r\n                                  : \"\"}\r\n\r\n                                <td className=\"align-middle\">\r\n                                  <Link\r\n                                    to={`${actLinkEdit}/${item.id}`}\r\n                                    className=\"btn btn-primary mr-2\"\r\n                                  >\r\n                                    <i className=\"fas fa-edit\"></i>\r\n                                  </Link>\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-danger\"\r\n                                    onClick={() => delProduct(item.id)}\r\n                                  >\r\n                                    <i className=\"fas fa-trash\"></i>\r\n                                  </button>\r\n                                </td>\r\n                              </tr>\r\n                            ))\r\n                          : \"\"}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                  <TablePagination\r\n                    component=\"div\"\r\n                    count={dataCount}\r\n                    page={currentPage}\r\n                    onPageChange={handleChangePage}\r\n                    rowsPerPage={rowsPerPage}\r\n                    onRowsPerPageChange={handleChangeRowsPerPage}\r\n                  />\r\n                </div>\r\n                {/* /.card-body */}\r\n              </div>\r\n              {/* /.card */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport MyDataTable from \"../../genaral/MyDataTable-v1\";\r\n\r\nexport default function Index() {\r\n  return (\r\n    <>\r\n      <section className=\"content-header\">\r\n        <div className=\"container\">\r\n          <div className=\"row mb-2\">\r\n            <div className=\"col-sm-6\">\r\n              <h1>รายชื่อลูกค้า</h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <MyDataTable\r\n        tableName=\"tbUsers\"\r\n        headerList={[\"ชื่อลูกค้า\"]}\r\n        bodyList={[\"name\"]}\r\n        actionLinkCreate={\"manageuser/create\"}\r\n        actLinkEdit={\"manageuser\"}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport { db } from \"../../../utils/firebase\";\r\n\r\nexport default function Create(props) {\r\n  const history = useHistory();\r\n  const initUser = {\r\n    id: \"\",\r\n    name: \"\",\r\n  };\r\n\r\n  const [user, setUser] = useState(initUser);\r\n\r\n  const tbUsers = db.collection(\"tbUsers\");\r\n\r\n  useEffect(() => {\r\n    if (props.match.params.id) {\r\n      tbUsers\r\n        .doc(props.match.params.id)\r\n        .get()\r\n        .then((snapshot) => {\r\n          setUser({ ...snapshot.data(), id: props.match.params.id });\r\n        });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const save = (e) => {\r\n    e.preventDefault();\r\n    if (user.id !== \"\") {\r\n      const model = {\r\n        name: user.name,\r\n        updateDate: moment().format(),\r\n      };\r\n\r\n      tbUsers.doc(user.id).update(model);\r\n      history.push(\"/manageuser\");\r\n    } else {\r\n      const model = {\r\n        name: user.name,\r\n        createDate: moment().format(),\r\n        isactive: 1,\r\n      };\r\n\r\n      tbUsers.add(model);\r\n      history.push(\"/manageuser\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <section className=\"content-header\">\r\n        <div className=\"container\">\r\n          <div className=\"row mb-2\">\r\n            <div className=\"col-sm-6\">\r\n              <h1>รายชื่อลูกค้า</h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"content\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"card card-outline card-primary\">\r\n                <div className=\"card-header\">\r\n                  <div className=\"card-title\">\r\n                    <h3 className=\"card-title\">เพิ่มรายชื่อลูกค้า</h3>\r\n                  </div>\r\n                </div>\r\n                <div className=\"card-body table-responsive p-0\">\r\n                  <form onSubmit={save}>\r\n                    <div className=\"card-body\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"name\">ชื่อ</label>\r\n                        <input\r\n                          type=\"name\"\r\n                          className=\"form-control\"\r\n                          id=\"name\"\r\n                          placeholder=\"ชื่อลูกค้า\"\r\n                          value={user.name}\r\n                          onChange={(e) => {\r\n                            setUser({ ...user, name: e.target.value });\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"card-footer\">\r\n                      <Link to=\"/manageuser\" className=\"btn btn-danger mr-2\">\r\n                        Back\r\n                      </Link>\r\n                      <div className=\"float-right\">\r\n                        <button type=\"submit\" className=\"btn btn-primary\">\r\n                          Submit\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport MyDataTable from \"../../genaral/MyDataTable-v1\";\r\n\r\nexport default function Index() {\r\n  return (\r\n    <>\r\n      <section className=\"content-header\">\r\n        <div className=\"container\">\r\n          <div className=\"row mb-2\">\r\n            <div className=\"col-sm-6\">\r\n              <h1>รายชื่อสินค้า</h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <MyDataTable\r\n        tableName=\"tbProducts\"\r\n        headerList={[\"ชื่อสินค้า\", \"ประเภท\", \"ราคา\", \"รูป\"]}\r\n        bodyList={[\"name\", \"subType\", \"price\", \"thumbnail\"]}\r\n        actionLinkCreate={\"manageproduct/create\"}\r\n        actLinkEdit={\"manageproduct\"}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { firebase } from \"../../utils/firebase\";\r\n\r\nexport default function MyUploadImage({\r\n  thumbnail,\r\n  setIsLoaded,\r\n  onThumbnailChange,\r\n}) {\r\n  const handleChage = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file !== undefined) {\r\n      setIsLoaded(true);\r\n      const storageRef = firebase.storage().ref(`images/`);\r\n      const fileRef = storageRef.child(\r\n        uuidv4() + \".\" + file.name.split(\".\").pop()\r\n      );\r\n      fileRef.put(file).then(() => {\r\n        fileRef.getDownloadURL().then((url) => {\r\n          onThumbnailChange(url);\r\n          setIsLoaded(false);\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"text-center position-relative\"\r\n        style={{\r\n          width: \"150px\",\r\n          height: \"150px\",\r\n          border: \"1px dashed rgb(182 186 189)\",\r\n          cursor: \"pointer\",\r\n        }}\r\n      >\r\n        <input\r\n          type=\"file\"\r\n          onChange={handleChage}\r\n          className=\"custom-file-input h-100\"\r\n        />\r\n        {thumbnail && (\r\n          <button\r\n            style={{\r\n              position: \"absolute\",\r\n              top: 0,\r\n              right: 0,\r\n              width: 20,\r\n              border: 0,\r\n              background: \"transparent\",\r\n              zIndex: 3,\r\n            }}\r\n            onMouseDown={(e) => {\r\n              onThumbnailChange(\"\");\r\n            }}\r\n          >\r\n            X\r\n          </button>\r\n        )}\r\n        <img\r\n          src={thumbnail}\r\n          className=\"w-100 position-absolute\"\r\n          style={{\r\n            left: \"50%\",\r\n            top: \"50%\",\r\n            transform: \"translate(-50%, -50%)\",\r\n            height: \"100%\",\r\n          }}\r\n          alt=\"\"\r\n        />\r\n        {!thumbnail && (\r\n          <i\r\n            className=\"fas fa-plus position-absolute\"\r\n            style={{\r\n              left: \"50%\",\r\n              top: \"50%\",\r\n              transform: \"translate(-50%, -50%)\",\r\n            }}\r\n          ></i>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport { db } from \"../../../utils/firebase\";\r\n\r\nimport MyUploadImage from \"../../genaral/MyUploadImage-v1\";\r\n\r\nexport default function Create(props) {\r\n  const history = useHistory();\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const initProduct = {\r\n    id: \"\",\r\n    name: \"\",\r\n    subType: \"\",\r\n    price: \"\",\r\n    thumbnail: \"\",\r\n  };\r\n\r\n  const [product, setProduct] = useState(initProduct);\r\n\r\n  const tbProducts = db.collection(\"tbProducts\");\r\n\r\n  useEffect(() => {\r\n    if (props.match.params.id) {\r\n      tbProducts\r\n        .doc(props.match.params.id)\r\n        .get()\r\n        .then((snapshot) => {\r\n          setProduct({ ...snapshot.data(), id: props.match.params.id });\r\n        });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const saveProduct = (e) => {\r\n    e.preventDefault();\r\n    if (product.id !== \"\") {\r\n      const model = {\r\n        name: product.name,\r\n        subType: product.subType,\r\n        price: parseInt(product.price),\r\n        thumbnail: product.thumbnail,\r\n        updateDate: moment().format(),\r\n      };\r\n\r\n      tbProducts.doc(product.id).update(model);\r\n      history.push(\"/manageproduct\");\r\n    } else {\r\n      const model = {\r\n        name: product.name,\r\n        subType: product.subType,\r\n        price: parseInt(product.price),\r\n        thumbnail: product.thumbnail,\r\n        createDate: moment().format(),\r\n        isactive: 1,\r\n      };\r\n\r\n      tbProducts.add(model);\r\n      history.push(\"/manageproduct\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <section className=\"content-header\">\r\n        <div className=\"container\">\r\n          <div className=\"row mb-2\">\r\n            <div className=\"col-sm-6\">\r\n              <h1>รายชื่อสินค้า</h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"content\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"card card-outline card-primary\">\r\n                <div className=\"card-header\">\r\n                  <div className=\"card-title\">\r\n                    <h3 className=\"card-title\">รายชื่อสินค้า</h3>\r\n                  </div>\r\n                </div>\r\n                <div className=\"card-body table-responsive p-0\">\r\n                  <form onSubmit={saveProduct}>\r\n                    <div className=\"card-body\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"name\">ชื่อสินค้า</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          id=\"name\"\r\n                          placeholder=\"ชื่อสินค้า\"\r\n                          value={product.name}\r\n                          onChange={(e) => {\r\n                            setProduct({ ...product, name: e.target.value });\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"subType\">ประเภท</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          id=\"subType\"\r\n                          placeholder=\"ประเภท\"\r\n                          value={product.subType}\r\n                          onChange={(e) => {\r\n                            setProduct({\r\n                              ...product,\r\n                              subType: e.target.value,\r\n                            });\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"price\">ราคา</label>\r\n                        <input\r\n                          type=\"number\"\r\n                          min=\"1\"\r\n                          className=\"form-control\"\r\n                          id=\"price\"\r\n                          placeholder=\"ราคา\"\r\n                          value={product.price}\r\n                          onChange={(e) => {\r\n                            setProduct({ ...product, price: e.target.value });\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"image\">รูปสินค้า</label>\r\n                        <MyUploadImage\r\n                          thumbnail={product.thumbnail}\r\n                          setIsLoaded={setIsLoaded}\r\n                          onThumbnailChange={(value) => {\r\n                            setProduct({ ...product, thumbnail: value });\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"card-footer\">\r\n                      <Link to=\"/manageproduct\" className=\"btn btn-danger mr-2\">\r\n                        Back\r\n                      </Link>\r\n                      <div className=\"float-right\">\r\n                        <button\r\n                          type=\"submit\"\r\n                          className=\"btn btn-primary\"\r\n                          disabled={isLoaded ? \"disabled\" : \"\"}\r\n                        >\r\n                          {isLoaded ? \" • • • \" : \"Submit\"}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport MyDataTable from \"../../genaral/MyDataTable-v1\";\r\n\r\nexport default function Index() {\r\n  return (\r\n    <div>\r\n      <section className=\"content-header\">\r\n        <div className=\"container\">\r\n          <div className=\"row mb-2\">\r\n            <div className=\"col-sm-6\">\r\n              <h1>รายการจัดส่ง</h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <MyDataTable\r\n        tableName=\"tbOrderSchedules\"\r\n        orderBy=\"users_name\"\r\n        headerList={[\"ชื่อลูกค้า\", \"วันที่จัดส่ง\", \"วิธีการจัดส่ง\", \"ราคา\"]}\r\n        bodyList={[\"users_name\", \"schedule\", \"delivery\", \"totalPrice\"]}\r\n        actionLinkCreate={\"manageorder-schedule/create\"}\r\n        actLinkEdit={\"manageorder-schedule\"}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport { db } from \"../../../utils/firebase\";\r\nimport Select from \"react-select\";\r\n\r\nconst schedule = [\r\n  { value: \"ทุกพระ 8,15\", label: \"ทุกพระ 8,15\" },\r\n  { value: \"ทุกพระ 8\", label: \"ทุกพระ 8\" },\r\n  { value: \"ทุกพระ 15\", label: \"ทุกพระ 15\" },\r\n  { value: \"วันโกน\", label: \"วันโกน\" },\r\n  { value: \"วันพฤหัส\", label: \"วันพฤหัส\" },\r\n  { value: \"วันอาทิตย์\", label: \"วันอาทิตย์\" },\r\n];\r\n\r\nconst delivery = [\r\n  { value: \"ไปส่งที่บ้าน\", label: \"ไปส่งที่บ้าน\" },\r\n  { value: \"มาเอาที่ตลาด\", label: \"มาเอาที่ตลาด\" },\r\n];\r\n\r\nexport default function Create(props) {\r\n  const history = useHistory();\r\n\r\n  const initOrderSchedule = {\r\n    users_id: \"\",\r\n    users_name: \"\",\r\n    schedule: \"\",\r\n    delivery: \"\",\r\n    remark: \"\",\r\n    orderScheduleItems: [\r\n      {\r\n        products_id: \"\",\r\n        qty: \"\",\r\n      },\r\n    ],\r\n    totalPrice: \"\",\r\n  };\r\n\r\n  const [orderSchedule, setOrderSchedule] = useState(initOrderSchedule);\r\n  const [userDropdown, setUserDropdown] = useState([]);\r\n  const [productDropdownGroup, setProductDropdownGroup] = useState([]);\r\n  const [productDropdown, setProductDropdown] = useState([]);\r\n\r\n  const tbOrderSchedules = db.collection(\"tbOrderSchedules\");\r\n  const tbProducts = db.collection(\"tbProducts\");\r\n  const tbUsers = db.collection(\"tbUsers\");\r\n\r\n  useEffect(() => {\r\n    async function getDropDownUsers() {\r\n      const snapshot = await tbUsers.orderBy(\"name\").get();\r\n\r\n      setUserDropdown(\r\n        snapshot.docs.map((doc) => ({\r\n          value: doc.id,\r\n          label: doc.data().name,\r\n        }))\r\n      );\r\n    }\r\n\r\n    async function getDropDownProducts() {\r\n      const snapshot = await tbProducts.orderBy(\"name\").get();\r\n\r\n      const productList = snapshot.docs.map((doc) => ({\r\n        value: doc.id,\r\n        label:\r\n          doc.data().name +\r\n          (doc.data().subType !== \"\" ? \"(\" + doc.data().subType + \")\" : \"\") +\r\n          \" \" +\r\n          doc.data().price +\r\n          \"฿\",\r\n        price: doc.data().price,\r\n        nameGroup: doc.data().name,\r\n        products: {\r\n          products_name: doc.data().name,\r\n          products_price: doc.data().price,\r\n          products_subType: doc.data().subType,\r\n          products_thumbnail: doc.data().thumbnail,\r\n        },\r\n      }));\r\n      setProductDropdown(productList);\r\n\r\n      const nameGroupArr = productList.map((x) => x.nameGroup);\r\n      const unique = [...new Set(nameGroupArr)];\r\n      console.log(productList);\r\n      const productGroup = unique\r\n        .sort((a, b) => a - b)\r\n        .map((doc) => ({\r\n          label: doc,\r\n          options: productList.filter((x) => x.nameGroup === doc),\r\n        }));\r\n      console.log(productGroup);\r\n      setProductDropdownGroup(productGroup);\r\n    }\r\n\r\n    getDropDownUsers();\r\n    getDropDownProducts();\r\n\r\n    if (props.match.params.id) {\r\n      tbOrderSchedules\r\n        .doc(props.match.params.id)\r\n        .get()\r\n        .then((snapshot) => {\r\n          setOrderSchedule({ ...snapshot.data(), id: props.match.params.id });\r\n        });\r\n    }\r\n\r\n    return () => {\r\n      setOrderSchedule({}); // Clean up\r\n    };\r\n  }, [props.match.params.id]);\r\n\r\n  const save = async (e) => {\r\n    console.log(\"submit\");\r\n    e.preventDefault();\r\n\r\n    // remove empty orderScheduleItems\r\n    orderSchedule.orderScheduleItems = orderSchedule.orderScheduleItems.filter(\r\n      (item) => {\r\n        return item.products_id !== \"\";\r\n      }\r\n    );\r\n\r\n    console.log(orderSchedule);\r\n    if (orderSchedule.id !== \"\") {\r\n      // update\r\n\r\n      const ref = tbOrderSchedules.doc(orderSchedule.id);\r\n      ref.set(\r\n        { ...orderSchedule, updateDate: moment().format() },\r\n        { merge: true }\r\n      );\r\n      history.push(\"/manageorder-schedule\");\r\n    } else {\r\n      // create\r\n      const ref = tbOrderSchedules.doc();\r\n      ref.set(orderSchedule, { merge: true });\r\n\r\n      history.push(\"/manageorder-schedule\");\r\n    }\r\n  };\r\n\r\n  const handleOrderScheduleItemChange = (index, orderScheduleItem) => {\r\n    if (Object.keys(orderScheduleItem).length === 0) {\r\n      // delete item\r\n      let orderScheduleItems = [...orderSchedule.orderScheduleItems];\r\n      orderScheduleItems.splice(index, 1);\r\n      setOrderSchedule({\r\n        ...orderSchedule,\r\n        orderScheduleItems: orderScheduleItems,\r\n      });\r\n    } else {\r\n      // 1. Make a shallow copy of the items\r\n      let orderScheduleItems = [...orderSchedule.orderScheduleItems];\r\n      // 2. Make a shallow copy of the item you want to mutate\r\n      //let item = {...orderItems[index]};\r\n      // 3. Replace the property you're intested in\r\n      //item.name = 'newName';\r\n      // 4. Put it back into our array. N.B. we *are* mutating the array here, but that's why we made a copy first\r\n      orderScheduleItems[index] = orderScheduleItem;\r\n      // 5. Set the state to our new copy\r\n      setOrderSchedule({ ...orderSchedule, orderScheduleItems });\r\n    }\r\n  };\r\n\r\n  const addEmptyOrderScheduleItem = () => {\r\n    let orderScheduleItems = [...orderSchedule.orderScheduleItems];\r\n    orderScheduleItems.push({\r\n      products_id: \"\",\r\n      qty: \"\",\r\n    });\r\n    setOrderSchedule({ ...orderSchedule, orderScheduleItems });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <section className=\"content-header\">\r\n        <div className=\"container\">\r\n          <div className=\"row mb-2\">\r\n            <div className=\"col-sm-6\">\r\n              <h1>รายชื่อลูกค้า</h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"content\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"card card-outline card-primary\">\r\n                <div className=\"card-header\">\r\n                  <div className=\"card-title\">\r\n                    <h3 className=\"card-title\">เพิ่มรายชื่อลูกค้า</h3>\r\n                  </div>\r\n                </div>\r\n                <div className=\"card-body table-responsive p-0\">\r\n                  <form onSubmit={save}>\r\n                    <div className=\"card-body\">\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"users_id\">ชื่อลูกค้า</label>\r\n                        <Select\r\n                          options={userDropdown}\r\n                          id=\"users_id\"\r\n                          value={userDropdown.filter(\r\n                            (options) =>\r\n                              options.value === orderSchedule.users_id\r\n                          )}\r\n                          onChange={(e) => {\r\n                            setOrderSchedule({\r\n                              ...orderSchedule,\r\n                              users_id: e.value,\r\n                              users_name: e.label,\r\n                            });\r\n                          }}\r\n                          isSearchable={false}\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"users_id\">รายการสินค้า</label>\r\n                        {orderSchedule.orderScheduleItems.map((item, index) => {\r\n                          return (\r\n                            <OrderScheduleItemFunc\r\n                              key={index}\r\n                              index={index}\r\n                              orderScheduleItem={item}\r\n                              productDropdownGroup={productDropdownGroup}\r\n                              productDropdown={productDropdown}\r\n                              onOrderScheduleItemChange={\r\n                                handleOrderScheduleItemChange\r\n                              }\r\n                            />\r\n                          );\r\n                        })}\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"border text-center m-auto d-block px-3 btn btn-primary\"\r\n                          onClick={addEmptyOrderScheduleItem}\r\n                        >\r\n                          +\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"totalPrice\">ราคารวม</label>\r\n                        <input\r\n                          type=\"number\"\r\n                          min=\"1\"\r\n                          className=\"form-control\"\r\n                          id=\"totalPrice\"\r\n                          onChange={(e) => {\r\n                            setOrderSchedule({\r\n                              ...orderSchedule,\r\n                              totalPrice: e.target.value,\r\n                            });\r\n                          }}\r\n                          value={orderSchedule.totalPrice}\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"schedule\">วันที่จัดส่ง</label>\r\n                        <Select\r\n                          options={schedule}\r\n                          id=\"schedule\"\r\n                          onChange={(e) => {\r\n                            setOrderSchedule({\r\n                              ...orderSchedule,\r\n                              schedule: e.value,\r\n                            });\r\n                          }}\r\n                          isSearchable={false}\r\n                          value={schedule.filter(\r\n                            (options) =>\r\n                              options.value === orderSchedule.schedule\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"delivery\">วิธีการจัดส่ง</label>\r\n                        <Select\r\n                          options={delivery}\r\n                          id=\"delivery\"\r\n                          onChange={(e) => {\r\n                            setOrderSchedule({\r\n                              ...orderSchedule,\r\n                              delivery: e.value,\r\n                            });\r\n                          }}\r\n                          isSearchable={false}\r\n                          value={delivery.filter(\r\n                            (options) =>\r\n                              options.value === orderSchedule.delivery\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"remark\">หมายเหตุ</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          id=\"remark\"\r\n                          onChange={(e) => {\r\n                            setOrderSchedule({\r\n                              ...orderSchedule,\r\n                              remark: e.target.value,\r\n                            });\r\n                          }}\r\n                          value={orderSchedule.remark}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"card-footer\">\r\n                      <Link\r\n                        to=\"/manageorder-schedule\"\r\n                        className=\"btn btn-danger mr-2\"\r\n                      >\r\n                        Back\r\n                      </Link>\r\n                      <div className=\"float-right\">\r\n                        <button type=\"submit\" className=\"btn btn-primary\">\r\n                          Submit\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction OrderScheduleItemFunc(props) {\r\n  useEffect(() => {\r\n    setOrderScheduleItem(props.orderScheduleItem);\r\n  }, [props.orderScheduleItem]);\r\n\r\n  const initOrderScheduleItem = {\r\n    products_id: \"\",\r\n    qty: \"\",\r\n  };\r\n  const [orderScheduleItem, setOrderScheduleItem] = useState(\r\n    initOrderScheduleItem\r\n  );\r\n\r\n  const removeOrderItem = (event) => {\r\n    props.onOrderScheduleItemChange(props.index, {});\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"row\">\r\n        <div className=\"col-8 mb-2 pr-0\">\r\n          <Select\r\n            options={props.productDropdownGroup}\r\n            id=\"products_id\"\r\n            onChange={(e) => {\r\n              setOrderScheduleItem({\r\n                ...orderScheduleItem,\r\n                products_id: e.value,\r\n              });\r\n              props.onOrderScheduleItemChange(props.index, {\r\n                ...orderScheduleItem,\r\n                products_id: e.value,\r\n                ...props.productDropdown.filter((x) => x.value === e.value)[0]\r\n                  .products,\r\n              });\r\n            }}\r\n            isSearchable={false}\r\n            value={props.productDropdown.filter(\r\n              (options) => options.value === props.orderScheduleItem.products_id\r\n            )}\r\n          />\r\n        </div>\r\n        <div className=\"col-3\">\r\n          <input\r\n            type=\"number\"\r\n            min=\"1\"\r\n            className=\"form-control text-right\"\r\n            placeholder=\"จำนวน\"\r\n            onChange={(e) => {\r\n              setOrderScheduleItem({\r\n                ...orderScheduleItem,\r\n                qty: e.target.value,\r\n              });\r\n              props.onOrderScheduleItemChange(props.index, {\r\n                ...orderScheduleItem,\r\n                qty: e.target.value,\r\n              });\r\n            }}\r\n            value={props.orderScheduleItem.qty}\r\n            pattern=\"[0-9]*|\\s\"\r\n          />\r\n        </div>\r\n        <div className=\"col-1 pl-0\">\r\n          <div\r\n            className=\"btn btn-danger btn-block px-0\"\r\n            onClick={removeOrderItem}\r\n          >\r\n            X\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { db } from \"../../../utils/firebase\";\r\nimport { SwalConfirm, SwalToast } from \"../../../lib/script\";\r\nimport moment from \"moment\";\r\nimport Select from \"react-select\";\r\n\r\nconst schedule = [\r\n  { value: \"ทุกพระ 8|ทุกพระ 8,15\", label: \"ทุกพระ 8\" },\r\n  { value: \"ทุกพระ 15|ทุกพระ 8,15\", label: \"ทุกพระ 15\" },\r\n  { value: \"วันโกน\", label: \"วันโกน\" },\r\n  { value: \"วันพฤหัส\", label: \"วันพฤหัส\" },\r\n  { value: \"วันอาทิตย์\", label: \"วันอาทิตย์\" },\r\n];\r\n\r\nconst delivery = [\r\n  { value: \"ไปส่งที่บ้าน\", label: \"ไปส่งที่บ้าน\" },\r\n  { value: \"มาเอาที่ตลาด\", label: \"มาเอาที่ตลาด\" },\r\n];\r\n\r\nexport default function Home() {\r\n  const [dataTable, setDataTable] = useState([]);\r\n  const [dataSchedule, setDataSchedule] = useState(\"ทุกพระ 8|ทุกพระ 8,15\");\r\n  const [dataDelivery, setDataDelivery] = useState(\"ไปส่งที่บ้าน\");\r\n  const [search, setSearch] = React.useState(\"\");\r\n\r\n  const tbOrderSchedules = db.collection(\"tbOrderSchedules\");\r\n\r\n  useEffect(() => {\r\n    getInit(dataSchedule, dataDelivery, \"\");\r\n    return () => {\r\n      setDataTable([]);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [dataSchedule, dataDelivery]);\r\n\r\n  async function getInit(dataSchedule, dataDelivery, search) {\r\n    const query = await tbOrderSchedules\r\n      .where(\"delivery\", \"==\", dataDelivery)\r\n      .where(\"schedule\", \"in\", dataSchedule.split(\"|\"))\r\n      .get();\r\n    // listen every time data change in todo ref\r\n    setDataTable(\r\n      query.docs\r\n        .filter((doc) => {\r\n          var models = doc.data();\r\n          var isSameDate =\r\n            moment(models.deliverTime, \"YYYY-MM-DD\").format(\"YYYY-MM-DD\") ===\r\n            moment().format(\"YYYY-MM-DD\");\r\n          if (search !== \"\") {\r\n            if (models.users_name.startsWith(search)) {\r\n              return true;\r\n            }\r\n            return false;\r\n          } else {\r\n            return !isSameDate;\r\n          }\r\n        })\r\n        .map((doc) => {\r\n          var models = doc.data();\r\n          return { ...models, id: doc.id };\r\n        })\r\n    );\r\n  }\r\n\r\n  const handleDeliverClick = (id) => {\r\n    setDataTable(dataTable.filter((x) => x.id !== id));\r\n    SwalToast.fire();\r\n  };\r\n\r\n  const handleOnChange = (e) => {\r\n    setSearch(e.target.value);\r\n  };\r\n\r\n  const searchUser = (e) => {\r\n    e.preventDefault();\r\n    console.log(\"searchUser\" + search);\r\n    getInit(dataSchedule, dataDelivery, search);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <section className=\"content-header\">\r\n        <div className=\"container\">\r\n          <div className=\"row mb-2\">\r\n            <div className=\"col-sm-6\">\r\n              <h1>รายการจัดส่ง</h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"content\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <Select\r\n                options={schedule}\r\n                id=\"schedule\"\r\n                onChange={(e) => {\r\n                  setDataSchedule(e.value);\r\n                }}\r\n                isSearchable={false}\r\n                value={schedule.filter(\r\n                  (options) => options.value === dataSchedule\r\n                )}\r\n              />\r\n            </div>\r\n            <div className=\"col-12 mt-1\">\r\n              <Select\r\n                options={delivery}\r\n                id=\"delivery\"\r\n                onChange={(e) => {\r\n                  setDataDelivery(e.value);\r\n                }}\r\n                isSearchable={false}\r\n                value={delivery.filter(\r\n                  (options) => options.value === dataDelivery\r\n                )}\r\n              />\r\n            </div>\r\n            <div className=\"col-12 mt-1\">\r\n              <form onSubmit={searchUser}>\r\n                <div className=\"input-group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"ค้นหาชื่อ\"\r\n                    onChange={handleOnChange}\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <button type=\"submit\" className=\"btn btn-default\">\r\n                      <i className=\"fas fa-search\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row mt-4\">\r\n            <div className=\"col-12 text-right\">\r\n              <span className=\"text-sm\">ทั้งหมด {dataTable.length} รายการ</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row mt-2\">\r\n            <div className=\"col-12\">\r\n              {dataTable.length > 0\r\n                ? dataTable.map((item) => (\r\n                    <OrderScheduleBox\r\n                      item={item}\r\n                      key={item.id}\r\n                      onDeliverClick={handleDeliverClick}\r\n                    />\r\n                  ))\r\n                : \"ไม่พบข้อมูล\"}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction OrderScheduleBox({ item, onDeliverClick }) {\r\n  const tbOrders = db.collection(\"tbOrders\");\r\n  const tbOrderSchedules = db.collection(\"tbOrderSchedules\");\r\n\r\n  const deliver = () => {\r\n    SwalConfirm.fire({\r\n      title: \"ยืนยันการจัดส่ง\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        // insert tbOrder\r\n        let modelOrder = {\r\n          create_date: moment().format(),\r\n          isactive: 1,\r\n          orderTypeId: 1,\r\n          orderTypeName: \"ลูกค้าประจำ\",\r\n          tbOrderScheduleId: item.id,\r\n          tbOrderSchedule: item,\r\n        };\r\n        const modelOrderRef = tbOrders.doc();\r\n        modelOrderRef.set(modelOrder, { merge: true });\r\n\r\n        // insert tbHistory\r\n        const modelOrderScheduleRef = tbOrderSchedules.doc(item.id);\r\n        modelOrderScheduleRef.update({ deliverTime: moment().format() });\r\n        onDeliverClick(item.id);\r\n      }\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"card card-outline card-primary\">\r\n        <div className=\"card-body p-3\">\r\n          <div className=\"row\">\r\n            <div className=\"col-8 text-lg text-bold\">{item.users_name}</div>\r\n            <div\r\n              className={\r\n                \"col-4 text-md text-mute text-right d-table \" +\r\n                (item.delivery === \"มาเอาที่ตลาด\" ? \"text-green\" : \"text-red\")\r\n              }\r\n            >\r\n              <div className=\"d-table-cell align-middle\">{item.delivery}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row mt-3\">\r\n            <div className=\"col-12\">\r\n              {item.orderScheduleItems.map((orderScheduleItem, index) => (\r\n                <div className=\"info-box border-0 rounded-0 m-0\" key={index}>\r\n                  <span className=\"info-box-icon\">\r\n                    <img\r\n                      src={\r\n                        orderScheduleItem.products_thumbnail !== \"\"\r\n                          ? orderScheduleItem.products_thumbnail\r\n                          : \"/images/no-image.png\"\r\n                      }\r\n                      alt={orderScheduleItem.products_name}\r\n                    />\r\n                  </span>\r\n                  <div className=\"info-box-content\">\r\n                    <span className=\"info-box-text text-md\">\r\n                      {orderScheduleItem.products_name +\r\n                        (orderScheduleItem.products_subType !== \"\" &&\r\n                        orderScheduleItem.products_subType !== \"-\"\r\n                          ? \" (\" + orderScheduleItem.products_subType + \")\"\r\n                          : \"\")}\r\n                    </span>\r\n                    <span className=\"info-box-number text-lg\">\r\n                      {orderScheduleItem.products_price} ฿\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"info-box-content\">\r\n                    <span className=\"info-box-text text-xl text-right\">\r\n                      x {orderScheduleItem.qty}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          {item.remark ? (\r\n            <div className=\"row mt-2\">\r\n              <div className=\"col-12 text-orange text-bold text-lg\">\r\n                หมายเหตุ: {item.remark}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <div className=\"row mt-3\">\r\n            <div className=\"col-6 text-lg d-table\">\r\n              <div className=\"d-table-cell align-middle\">\r\n                ราคารวม <b>{item.totalPrice} ฿</b>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-6\">\r\n              <button className=\"btn btn-primary btn-block\" onClick={deliver}>\r\n                จัดส่ง\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { db } from \"../../../utils/firebase\";\r\n\r\nexport default function Index() {\r\n  const tbOrderSchedules = db.collection(\"tbOrderSchedules\");\r\n  const tbProducts = db.collection(\"tbProducts\");\r\n\r\n  const updateProductInOrderSchedule = () => {\r\n    // tbProducts\r\n    //   .doc(\"9jhEpz28oJ0HsanWogxP\")\r\n    //   .get()\r\n    //   .then((doc) => {\r\n    //     if (doc.exists) {\r\n    //       console.log(\"Document data:\", doc.data());\r\n    //     } else {\r\n    //       // doc.data() will be undefined in this case\r\n    //       console.log(\"No such document!\");\r\n    //     }\r\n    //   });\r\n\r\n    tbOrderSchedules.get().then((snap) => {\r\n      snap.forEach((doc) => {\r\n        var orderItem = doc.data().orderScheduleItems.map(async (item) => {\r\n          console.log(item.products_id);\r\n          var snap = await tbProducts.doc(item.products_id).get();\r\n          var product = snap.data();\r\n\r\n          item = {\r\n            ...item,\r\n            products_name: product.name,\r\n            products_price: product.price,\r\n            products_subType: product.subType,\r\n            products_thumbnail: product.thumbnail,\r\n          };\r\n\r\n          return item;\r\n        });\r\n        Promise.all(orderItem).then((results) => {\r\n          console.log(doc.id, \" => \", results);\r\n          tbOrderSchedules\r\n            .doc(doc.id)\r\n            .set({ orderScheduleItems: results }, { merge: true });\r\n        });\r\n      });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <section className=\"content-header\">\r\n        <div className=\"container\">\r\n          <div className=\"row mb-2\">\r\n            <div className=\"col-sm-6\">\r\n              <h1>ตั้งค่า</h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"content\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                  <div className=\"card-title\">ตั้งค่า</div>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                      <button\r\n                        className=\"btn btn-info\"\r\n                        onClick={updateProductInOrderSchedule}\r\n                        value=\"Update\"\r\n                      >\r\n                        อัพเดทสินค้าในรายการจัดส่ง\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { AuthProvider } from \"./components/pages/authentication/Auth\";\r\nimport Header from \"./components/_layout/Header\";\r\nimport Footer from \"./components/_layout/Footer\";\r\nimport MenuTop from \"./components/_layout/MenuTop\";\r\n\r\nimport Home from \"./components/pages/home/Home\";\r\nimport Dashboard from \"./components/pages/dashboard/Index\";\r\nimport LogIn from \"./components/pages/authentication/LogIn\";\r\nimport SignUp from \"./components/pages/authentication/SignUp\";\r\nimport ManageUser from \"./components/pages/manage-users/Index\";\r\nimport ManageUserCreate from \"./components/pages/manage-users/Create\";\r\nimport ManageProduct from \"./components/pages/manage-products/Index\";\r\nimport ManageProductCreate from \"./components/pages/manage-products/Create\";\r\nimport ManageOrderSchedule from \"./components/pages/manage-orderschedule/Index\";\r\nimport ManageOrderScheduleCreate from \"./components/pages/manage-orderschedule/Create\";\r\nimport ManageOrderScheduleMyOrderSchedule from \"./components/pages/manage-orderschedule/MyOrderSchedule\";\r\n\r\nimport ManageConfig from \"./components/pages/manage-config/Index\";\r\n\r\n// const routes = [\r\n//   {\r\n//     path: \"/\",\r\n//     exact: true,\r\n//     component: Home,\r\n//   },\r\n//   {\r\n//     path: \"/manageuser\",\r\n//     component: ManageUser,\r\n//   },\r\n//   {\r\n//     path: \"/manageuser-create/:id\",\r\n//     component: ManageUserCreate,\r\n//   },\r\n//   {\r\n//     path: \"/manageuser-create\",\r\n//     component: ManageUserCreate,\r\n//   },\r\n//   {\r\n//     path: \"/manageproduct\",\r\n//     component: ManageProduct,\r\n//   },\r\n//   {\r\n//     path: \"/manageproduct-create/:id\",\r\n//     component: ManageProductCreate,\r\n//   },\r\n//   {\r\n//     path: \"/manageproduct-create\",\r\n//     component: ManageProductCreate,\r\n//   },\r\n//   {\r\n//     path: \"/manageorder-schedule\",\r\n//     component: ManageOrderSchedule,\r\n//   },\r\n//   {\r\n//     path: \"/manageorder-schedule-create/:id\",\r\n//     component: ManageOrderScheduleCreate,\r\n//   },\r\n//   {\r\n//     path: \"/manageorder-schedule-create\",\r\n//     component: ManageOrderScheduleCreate,\r\n//   },\r\n// ];\r\n\r\nexport default function App() {\r\n  return (\r\n    <AuthProvider>\r\n      <Router>\r\n        <Header />\r\n        <MenuTop />\r\n\r\n        <Switch>\r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            component={ManageOrderScheduleMyOrderSchedule}\r\n          />\r\n          <Route exact path=\"/home\" component={Home} />\r\n          <Route exact path=\"/dashboard\" component={Dashboard} />\r\n          {/* manageuser */}\r\n          <Route exact path=\"/manageuser\" component={ManageUser} />\r\n          <Route exact path=\"/manageuser/create\" component={ManageUserCreate} />\r\n          <Route exact path=\"/manageuser/:id\" component={ManageUserCreate} />\r\n          {/* manageproduct */}\r\n          <Route exact path=\"/manageproduct\" component={ManageProduct} />\r\n          <Route\r\n            exact\r\n            path=\"/manageproduct/create\"\r\n            component={ManageProductCreate}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/manageproduct/:id\"\r\n            component={ManageProductCreate}\r\n          />\r\n          {/* manageorder-schedule */}\r\n          <Route\r\n            exact\r\n            path=\"/manageorder-schedule\"\r\n            component={ManageOrderSchedule}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/manageorder-schedule/my-order\"\r\n            component={ManageOrderScheduleMyOrderSchedule}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/manageorder-schedule/create\"\r\n            component={ManageOrderScheduleCreate}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/manageorder-schedule/:id\"\r\n            component={ManageOrderScheduleCreate}\r\n          />\r\n          <Route exact path=\"/manageconfig\" component={ManageConfig} />\r\n\r\n          <Route exact path=\"/login\" component={LogIn} />\r\n          <Route exact path=\"/signup\" component={SignUp} />\r\n        </Switch>\r\n\r\n        {/* <Switch>\r\n          {routes.map((route, i) => (\r\n            <RouteWithSubRoutes key={i} {...route} />\r\n          ))}\r\n        </Switch> */}\r\n      </Router>\r\n\r\n      <Footer />\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\n// function RouteWithSubRoutes(route) {\r\n//   return (\r\n//     <Route\r\n//       path={route.path}\r\n//       render={(props) => (\r\n//         // pass the sub-routes down to keep nesting\r\n//         <route.component {...props} routes={route.routes} />\r\n//       )}\r\n//     />\r\n//   );\r\n// }\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n      // [::1] is the IPv6 localhost address.\r\n      window.location.hostname === '[::1]' ||\r\n      // 127.0.0.1/8 is considered localhost for IPv4.\r\n      window.location.hostname.match(\r\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n      )\r\n  )\r\n  \r\n  export default function register() {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n      // The URL constructor is available in all browsers that support SW.\r\n      const publicUrl = new URL(process.env.PUBLIC_URL, window.location)\r\n      if (publicUrl.origin !== window.location.origin) {\r\n        // Our service worker won't work if PUBLIC_URL is on a different origin\r\n        // from what our page is served on. This might happen if a CDN is used to\r\n        // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n        return\r\n      }\r\n  \r\n      window.addEventListener('load', () => {\r\n        const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n  \r\n        if (isLocalhost) {\r\n          // This is running on localhost. Lets check if a service worker still exists or not.\r\n          checkValidServiceWorker(swUrl)\r\n  \r\n          // Add some additional logging to localhost, pointing developers to the\r\n          // service worker/PWA documentation.\r\n          navigator.serviceWorker.ready.then(() => {\r\n            console.log(\r\n              'This web app is being served cache-first by a service ' +\r\n                'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n            )\r\n          })\r\n        } else {\r\n          // Is not local host. Just register service worker\r\n          registerValidSW(swUrl)\r\n        }\r\n      })\r\n    }\r\n  }\r\n  \r\n  function registerValidSW(swUrl) {\r\n    navigator.serviceWorker\r\n      .register(swUrl)\r\n      .then(registration => {\r\n        registration.onupdatefound = () => {\r\n          const installingWorker = registration.installing\r\n          installingWorker.onstatechange = () => {\r\n            if (installingWorker.state === 'installed') {\r\n              if (navigator.serviceWorker.controller) {\r\n                // At this point, the old content will have been purged and\r\n                // the fresh content will have been added to the cache.\r\n                // It's the perfect time to display a \"New content is\r\n                // available; please refresh.\" message in your web app.\r\n                console.log('New content is available; please refresh.')\r\n              } else {\r\n                // At this point, everything has been precached.\r\n                // It's the perfect time to display a\r\n                // \"Content is cached for offline use.\" message.\r\n                console.log('Content is cached for offline use.')\r\n              }\r\n            }\r\n          }\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error('Error during service worker registration:', error)\r\n      })\r\n  }\r\n  \r\n  function checkValidServiceWorker(swUrl) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl)\r\n      .then(response => {\r\n        // Ensure service worker exists, and that we really are getting a JS file.\r\n        if (\r\n          response.status === 404 ||\r\n          response.headers.get('content-type').indexOf('javascript') === -1\r\n        ) {\r\n          // No service worker found. Probably a different app. Reload the page.\r\n          navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister().then(() => {\r\n              window.location.reload()\r\n            })\r\n          })\r\n        } else {\r\n          // Service worker found. Proceed as normal.\r\n          registerValidSW(swUrl)\r\n        }\r\n      })\r\n      .catch(() => {\r\n        console.log(\r\n          'No internet connection found. App is running in offline mode.'\r\n        )\r\n      })\r\n  }\r\n  \r\n  export function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n      navigator.serviceWorker.ready.then(registration => {\r\n        registration.unregister()\r\n      })\r\n    }\r\n  }","const postReducer = (state = [], action) => {\r\n    return state;\r\n}\r\n\r\nexport default postReducer;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport \"animate.css\";\r\n\r\nimport App from \"./App\";\r\nimport registerServiceWorker from \"./registerServiceWorker\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nimport { createStore } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport postReducer from \"./reducers/postReducer\";\r\n\r\nconst store = createStore(postReducer);\r\n\r\nconst AppWithRouter = () => (\r\n  <BrowserRouter>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </BrowserRouter>\r\n);\r\n\r\nReactDOM.render(<AppWithRouter />, document.getElementById(\"root\"));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}